var _r=Object.defineProperty;var Sr=(s,e,t)=>e in s?_r(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var z=(s,e,t)=>Sr(s,typeof e!="symbol"?e+"":e,t);import{b as U,S as re,g as kr}from"./index-Cmg072g4.js";const P=s=>typeof s=="string",bt=()=>{let s,e;const t=new Promise((n,r)=>{s=n,e=r});return t.resolve=s,t.reject=e,t},ps=s=>s==null?"":""+s,Cr=(s,e,t)=>{s.forEach(n=>{e[n]&&(t[n]=e[n])})},Or=/###/g,gs=s=>s&&s.indexOf("###")>-1?s.replace(Or,"."):s,ms=s=>!s||P(s),Rt=(s,e,t)=>{const n=P(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(ms(s))return{};const i=gs(n[r]);!s[i]&&t&&(s[i]=new t),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++r}return ms(s)?{}:{obj:s,k:gs(n[r])}},bs=(s,e,t)=>{const{obj:n,k:r}=Rt(s,e,Object);if(n!==void 0||e.length===1){n[r]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Rt(s,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Rt(s,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=t},Er=(s,e,t,n)=>{const{obj:r,k:i}=Rt(s,e,Object);r[i]=r[i]||[],r[i].push(t)},nn=(s,e)=>{const{obj:t,k:n}=Rt(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},Ar=(s,e,t)=>{const n=nn(s,t);return n!==void 0?n:nn(e,t)},er=(s,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?P(s[n])||s[n]instanceof String||P(e[n])||e[n]instanceof String?t&&(s[n]=e[n]):er(s[n],e[n],t):s[n]=e[n]);return s},Ge=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Rr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ir=s=>P(s)?s.replace(/[&<>"'\/]/g,e=>Rr[e]):s;class Tr{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Pr=[" ",",","?","!",";"],Lr=new Tr(20),Dr=(s,e,t)=>{e=e||"",t=t||"";const n=Pr.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const r=Lr.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!r.test(s);if(!i){const a=s.indexOf(t);a>0&&!r.test(s.substring(0,a))&&(i=!0)}return i},Wn=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const n=e.split(t);let r=s;for(let i=0;i<n.length;){if(!r||typeof r!="object")return;let a,o="";for(let c=i;c<n.length;++c)if(c!==i&&(o+=t),o+=n[c],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;i+=c-i+1;break}r=a}return r},sn=s=>s==null?void 0:s.replace("_","-"),jr={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var t,n;(n=(t=console==null?void 0:console[s])==null?void 0:t.apply)==null||n.call(t,console,e)}};class rn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||jr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(P(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new rn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new rn(this.logger,e)}}var ge=new rn;class wn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(t)||0;this.observers[n].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,c]=a;for(let u=0;u<c;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,c]=a;for(let u=0;u<c;u++)o.apply(o,[e,...n])})}}class vs extends wn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var u,f;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):P(n)&&i?o.push(...n.split(i)):o.push(n)));const c=nn(this.data,o);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),c||!a||!P(n)?c:Wn((f=(u=this.data)==null?void 0:u[e])==null?void 0:f[t],n,i)}addResource(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),bs(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(P(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);let c=nn(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?er(c,n,i):c={...c,...n},bs(this.data,o,c),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var tr={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,n,r){return s.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,t,n,r))??e}),e}};const ys={},ws=s=>!P(s)&&typeof s!="boolean"&&typeof s!="number";class an extends wn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Cr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ge.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Dr(e,n,r);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:P(i)?[i]:i};const u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return{key:e,namespaces:P(i)?[i]:i}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),c=o[o.length-1],u=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(f){const te=t.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${te}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${te}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:a}const b=this.resolve(e,t);let v=b==null?void 0:b.res;const S=(b==null?void 0:b.usedKey)||a,l=(b==null?void 0:b.exactUsedKey)||a,d=["[object Number]","[object Function]","[object RegExp]"],p=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,C=t.count!==void 0&&!P(t.count),O=an.hasDefaultValue(t),$=C?this.pluralResolver.getSuffix(u,t.count,t):"",Ee=t.ordinal&&C?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",Ae=C&&!t.ordinal&&t.count===0,Z=Ae&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${$}`]||t[`defaultValue${Ee}`]||t.defaultValue;let ee=v;g&&!v&&O&&(ee=Z);const Je=ws(ee),Ye=Object.prototype.toString.apply(ee);if(g&&ee&&Je&&d.indexOf(Ye)<0&&!(P(p)&&Array.isArray(ee))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const te=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,ee,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(b.res=te,b.usedParams=this.getUsedParamsDetails(t),b):te}if(i){const te=Array.isArray(ee),oe=te?[]:{},us=te?l:S;for(const he in ee)if(Object.prototype.hasOwnProperty.call(ee,he)){const we=`${us}${i}${he}`;O&&!v?oe[he]=this.translate(we,{...t,defaultValue:ws(Z)?Z[he]:void 0,joinArrays:!1,ns:o}):oe[he]=this.translate(we,{...t,joinArrays:!1,ns:o}),oe[he]===we&&(oe[he]=ee[he])}v=oe}}else if(g&&P(p)&&Array.isArray(v))v=v.join(p),v&&(v=this.extendTranslation(v,e,t,n));else{let te=!1,oe=!1;!this.isValidLookup(v)&&O&&(te=!0,v=Z),this.isValidLookup(v)||(oe=!0,v=a);const he=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:v,we=O&&Z!==v&&this.options.updateMissing;if(oe||te||we){if(this.logger.log(we?"updateKey":"missingKey",u,c,a,we?Z:v),i){const ne=this.resolve(a,{...t,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let gt=[];const Jt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Jt&&Jt[0])for(let ne=0;ne<Jt.length;ne++)gt.push(Jt[ne]);else this.options.saveMissingTo==="all"?gt=this.languageUtils.toResolveHierarchy(t.lng||this.language):gt.push(t.lng||this.language);const ds=(ne,ze,mt)=>{var fs;const hs=O&&mt!==v?mt:he;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,c,ze,hs,we,t):(fs=this.backendConnector)!=null&&fs.saveMissing&&this.backendConnector.saveMissing(ne,c,ze,hs,we,t),this.emit("missingKey",ne,c,ze,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?gt.forEach(ne=>{const ze=this.pluralResolver.getSuffixes(ne,t);Ae&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ze.indexOf(`${this.options.pluralSeparator}zero`)<0&&ze.push(`${this.options.pluralSeparator}zero`),ze.forEach(mt=>{ds([ne],a+mt,t[`defaultValue${mt}`]||Z)})}):ds(gt,a,Z))}v=this.extendTranslation(v,e,t,b,n),oe&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${c}:${a}`),(oe||te)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,te?v:void 0))}return r?(b.res=v,b.usedParams=this.getUsedParamsDetails(t),b):v}extendTranslation(e,t,n,r,i){var u,f;var a=this;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const b=P(e)&&(((f=n==null?void 0:n.interpolation)==null?void 0:f.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(b){const l=e.match(this.interpolator.nestingRegexp);v=l&&l.length}let S=n.replace&&!P(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,n.lng||this.language||r.usedLng,n),b){const l=e.match(this.interpolator.nestingRegexp),d=l&&l.length;v<d&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];return(i==null?void 0:i[0])===d[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${t[0]}`),null):a.translate(...d,t)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=P(o)?[o]:o;return e!=null&&(c!=null&&c.length)&&n.applyPostProcessor!==!1&&(e=tr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,i,a,o;return P(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,t),f=u.key;r=f;let b=u.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const v=t.count!==void 0&&!P(t.count),S=v&&!t.ordinal&&t.count===0,l=t.context!==void 0&&(P(t.context)||typeof t.context=="number")&&t.context!=="",d=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);b.forEach(p=>{var g,C;this.isValidLookup(n)||(o=p,!ys[`${d[0]}-${p}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(o))&&(ys[`${d[0]}-${p}`]=!0,this.logger.warn(`key "${r}" for languages "${d.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach(O=>{var Ae;if(this.isValidLookup(n))return;a=O;const $=[f];if((Ae=this.i18nFormat)!=null&&Ae.addLookupKeys)this.i18nFormat.addLookupKeys($,f,O,p,t);else{let Z;v&&(Z=this.pluralResolver.getSuffix(O,t.count,t));const ee=`${this.options.pluralSeparator}zero`,Je=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&($.push(f+Z),t.ordinal&&Z.indexOf(Je)===0&&$.push(f+Z.replace(Je,this.options.pluralSeparator)),S&&$.push(f+ee)),l){const Ye=`${f}${this.options.contextSeparator}${t.context}`;$.push(Ye),v&&($.push(Ye+Z),t.ordinal&&Z.indexOf(Je)===0&&$.push(Ye+Z.replace(Je,this.options.pluralSeparator)),S&&$.push(Ye+ee))}}let Ee;for(;Ee=$.pop();)this.isValidLookup(n)||(i=Ee,n=this.getResource(O,p,Ee,t))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){var i;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!P(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const i of t)delete r[i]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class xs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ge.create("languageUtils")}getScriptPartFromCode(e){if(e=sn(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=sn(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(P(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),P(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return P(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):P(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{r.indexOf(a)<0&&i(this.formatLanguageCode(a))}),r}}const _s={zero:0,one:1,two:2,few:3,many:4,other:5},Ss={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Nr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ge.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=sn(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ss;if(!e.match(/-|_/))return Ss;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((r,i)=>_s[r]-_s[i]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const ks=function(s,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Ar(s,e,t);return!i&&r&&P(t)&&(i=Wn(s,t,n),i===void 0&&(i=Wn(e,t,n))),i},An=s=>s.replace(/\$/g,"$$$$");class $r{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:b,nestingPrefix:v,nestingPrefixEscaped:S,nestingSuffix:l,nestingSuffixEscaped:d,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:Ir,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?Ge(i):a||"{{",this.suffix=o?Ge(o):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=v?Ge(v):S||Ge("$t("),this.nestingSuffix=l?Ge(l):d||Ge(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){var S;let i,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=l=>{if(l.indexOf(this.formatSeparator)<0){const C=ks(t,c,l,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...r,...t,interpolationkey:l}):C}const d=l.split(this.formatSeparator),p=d.shift().trim(),g=d.join(this.formatSeparator).trim();return this.format(ks(t,c,p,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...r,...t,interpolationkey:p})};this.resetRegExp();const f=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,b=((S=r==null?void 0:r.interpolation)==null?void 0:S.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:l=>An(l)},{regex:this.regexp,safeValue:l=>this.escapeValue?An(this.escape(l)):An(l)}].forEach(l=>{for(o=0;i=l.regex.exec(e);){const d=i[1].trim();if(a=u(d),a===void 0)if(typeof f=="function"){const g=f(e,i,r);a=P(g)?g:""}else if(r&&Object.prototype.hasOwnProperty.call(r,d))a="";else if(b){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${d} for interpolating ${e}`),a="";else!P(a)&&!this.useRawValueToEscape&&(a=ps(a));const p=l.safeValue(a);if(e=e.replace(i[0],p),b?(l.regex.lastIndex+=a.length,l.regex.lastIndex-=i[0].length):l.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,a;const o=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const b=c.split(new RegExp(`${f}[ ]*{`));let v=`{${b[1]}`;c=b[0],v=this.interpolate(v,a);const S=v.match(/'/g),l=v.match(/"/g);(((S==null?void 0:S.length)??0)%2===0&&!l||l.length%2!==0)&&(v=v.replace(/'/g,'"'));try{a=JSON.parse(v),u&&(a={...u,...a})}catch(d){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,d),`${c}${f}${v}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!P(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const f=r[1].split(this.formatSeparator).map(b=>b.trim());r[1]=f.shift(),c=f,u=!0}if(i=t(o.call(this,r[1].trim(),a),a),i&&r[0]===e&&!P(i))return i;P(i)||(i=ps(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),u&&(i=c.reduce((f,b)=>this.format(f,b,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const Mr=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=o.trim();t[f]||(t[f]=u),u==="false"&&(t[f]=!1),u==="true"&&(t[f]=!0),isNaN(u)||(t[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Qe=s=>{const e={};return(t,n,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const a=n+JSON.stringify(i);let o=e[a];return o||(o=s(sn(n),r),e[a]=o),o(t)}};class Vr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("formatter"),this.options=e,this.formats={number:Qe((t,n)=>{const r=new Intl.NumberFormat(t,{...n});return i=>r.format(i)}),currency:Qe((t,n)=>{const r=new Intl.NumberFormat(t,{...n,style:"currency"});return i=>r.format(i)}),datetime:Qe((t,n)=>{const r=new Intl.DateTimeFormat(t,{...n});return i=>r.format(i)}),relativetime:Qe((t,n)=>{const r=new Intl.RelativeTimeFormat(t,{...n});return i=>r.format(i,n.range||"day")}),list:Qe((t,n)=>{const r=new Intl.ListFormat(t,{...n});return i=>r.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Qe(t)}format(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{var b;const{formatName:u,formatOptions:f}=Mr(c);if(this.formats[u]){let v=o;try{const S=((b=r==null?void 0:r.formatParams)==null?void 0:b[r.interpolationkey])||{},l=S.locale||S.lng||r.locale||r.lng||n;v=this.formats[u](o,l,{...f,...r,...S})}catch(S){this.logger.warn(S)}return v}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const zr=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Fr extends wn{constructor(e,t,n){var i,a;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ge.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,r.backend,r)}queueLoad(e,t,n,r){const i={},a={},o={},c={};return e.forEach(u=>{let f=!0;t.forEach(b=>{const v=`${u}|${b}`;!n.reload&&this.store.hasResourceBundle(u,b)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?a[v]===void 0&&(a[v]=!0):(this.state[v]=1,f=!1,a[v]===void 0&&(a[v]=!0),i[v]===void 0&&(i[v]=!0),c[b]===void 0&&(c[b]=!0)))}),f||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,n){const r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),!t&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{Er(c.loaded,[i],a),zr(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{o[u]||(o[u]={});const f=c.loaded[u];f.length&&f.forEach(b=>{o[u][b]===void 0&&(o[u][b]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:a});return}this.readingCalls++;const o=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(u&&f&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,r+1,i*2,a)},i);return}a(u,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}return}return c(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();P(e)&&(e=this.languageUtils.toResolveHierarchy(e)),P(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,r,i){var c,u,f,b,v;let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((b=(f=this.services)==null?void 0:f.utils)!=null&&b.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((v=this.backend)!=null&&v.create){const S={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,t,n,r,S):d=l(e,t,n,r),d&&typeof d.then=="function"?d.then(p=>o(null,p)).catch(o):o(null,d)}catch(d){o(d)}else l(e,t,n,r,o,S)}!e||!e[0]||this.store.addResource(e[0],t,n,r)}}}const Cs=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),P(s[1])&&(e.defaultValue=s[1]),P(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Os=s=>{var e,t;return P(s.ns)&&(s.ns=[s.ns]),P(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),P(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((t=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},Yt=()=>{},Ur=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class Tt extends wn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Os(e),this.services={},this.logger=ge,this.modules={external:[]},Ur(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(P(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Cs();this.options={...r,...this.options,...Os(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ge.init(i(this.modules.logger),this.options):ge.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Vr;const b=new xs(this.options);this.store=new vs(this.options.resources,this.options);const v=this.services;v.logger=ge,v.resourceStore=this.store,v.languageUtils=b,v.pluralResolver=new Nr(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=i(f),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new $r(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Fr(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(S){for(var l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];e.emit(S,...d)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new an(this.services,this.options),this.translator.on("*",function(S){for(var l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];e.emit(S,...d)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Yt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=bt(),u=()=>{const f=(b,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(b,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e){var i,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yt;const r=P(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(b=>{b!=="cimode"&&o.indexOf(b)<0&&o.push(b)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>c(f)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>c(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,t,n){const r=bt();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Yt),this.services.backendConnector.reload(e,t,i=>{r.resolve(),n(i)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=bt();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},o=c=>{var f,b;!e&&!c&&this.services.languageDetector&&(c=[]);const u=P(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(b=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||b.call(f,u)),this.loadResources(u,v=>{a(v,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,n){var r=this;const i=function(a,o){let c;if(typeof o!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),b=2;b<u;b++)f[b-2]=arguments[b];c=r.options.overloadTranslationOptionHandler([a,o].concat(f))}else c={...o};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const v=r.options.keySeparator||".";let S;return c.keyPrefix&&Array.isArray(a)?S=a.map(l=>`${c.keyPrefix}${v}${l}`):S=c.keyPrefix?`${c.keyPrefix}${v}${a}`:a,r.t(S,c)};return P(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){var r;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=this.translator)==null?void 0:r.translate(...t)}exists(){var r;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const u=this.services.backendConnector.state[`${o}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!r||a(i,e)))}loadNamespaces(e,t){const n=bt();return this.options.ns?(P(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),t&&t(r)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=bt();P(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=r.concat(i),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){var r,i;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new xs(Cs());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Tt(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yt;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new Tt(r);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const o=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},Object.keys(c[u]).reduce((f,b)=>(f[b]={...c[u][b]},f),{})),{});i.store=new vs(o,r),i.services.resourceStore=i.store}return i.translator=new an(i.services,r),i.translator.on("*",function(o){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];i.emit(o,...u)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const W=Tt.createInstance();W.createInstance=Tt.createInstance;W.createInstance;W.dir;W.init;W.loadResources;W.reloadResources;W.use;W.changeLanguage;W.getFixedT;W.t;W.exists;W.setDefaultNamespace;W.hasLoadedNamespace;W.loadNamespaces;W.loadLanguages;var L=(s=>(s.persist="local",s.session="session",s))(L||{});class q{constructor(e,t,n){z(this,"storageAreaMap",{[L.session]:U.storage.session,[L.persist]:U.storage.local});z(this,"state");this.moduleName=e,this.moduleSchema=t,this.eventService=n,this.eventService.subscribe({reset:this.reset.bind(this)}),this.state=t.getDefaultValue()}async sync(){this.state=await this.get()}async set(e){const t=new Map;Object.keys(this.storageAreaMap).forEach(n=>{t.set(n,{})}),Object.entries(e).forEach(([n,r])=>{const i=this.moduleSchema.getPropDescription(n),a=t.get(i)??{};t.set(i,{...a,[n]:r})}),this.state=Object.assign({},...t.values()),await Promise.all([...t.entries()].map(([n,r])=>this.storageAreaMap[n].set({[this.moduleName]:r})))}async setItems(e){const t=await this.get(),n=Object.assign({},t,e);await this.set(n)}async get(){const t=(await Promise.all(Object.values(this.storageAreaMap).map(a=>a.get(this.moduleName)))).map(a=>a[this.moduleName]),n=this.moduleSchema.getDefaultValue(),r=Object.assign({},n,...t);return this.moduleSchema.safeParseWithDefaults(r)}async getItems(...e){const t=await this.get();return q.pickPartialObject(t,e)}async remove(){await Promise.all(Object.values(this.storageAreaMap).map(e=>e.remove(this.moduleName)))}async removeItems(...e){const t=await this.get(),n=q.omitPartialObject(t,e);await this.set(n)}async reset(){const e=await this.get(),t=this.moduleSchema.getDefaultValue(),n=Object.entries(t).reduce((a,[o,c])=>({...a,[o]:e[o]??c}),{}),r=this.moduleSchema.safeParse(n),i=r.success?r.data:t;await this.set(i)}static omitPartialObject(e,t){return Object.fromEntries(Object.entries(e).filter(([r])=>!t.includes(r)))}static pickPartialObject(e,t){return Object.fromEntries(t.map(r=>[r,e[r]]))}}class Zr{constructor(){z(this,"eventMap",new Map)}subscribe(e){Object.entries(e).forEach(([n,r])=>{this.eventMap.has(n)||this.eventMap.set(n,[]);const i=[...this.eventMap.get(n)??[],r];this.eventMap.set(n,i)})}dispatch(e){const t=Object.entries(e),n=[];return t.forEach(([r,i])=>{(this.eventMap.get(r)??[]).forEach(o=>{n.push(o(i))})}),n}}const X=new Zr;var M;(function(s){s.assertEqual=r=>r;function e(r){}s.assertIs=e;function t(r){throw new Error}s.assertNever=t,s.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},s.getValidEnumValues=r=>{const i=s.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return s.objectValues(a)},s.objectValues=r=>s.objectKeys(r).map(function(i){return r[i]}),s.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},s.find=(r,i)=>{for(const a of r)if(i(a))return a},s.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}s.joinValues=n,s.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(M||(M={}));var Kn;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(Kn||(Kn={}));const A=M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_e=s=>{switch(typeof s){case"undefined":return A.undefined;case"string":return A.string;case"number":return isNaN(s)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(s)?A.array:s===null?A.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?A.promise:typeof Map<"u"&&s instanceof Map?A.map:typeof Set<"u"&&s instanceof Set?A.set:typeof Date<"u"&&s instanceof Date?A.date:A.object;default:return A.unknown}},k=M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Br=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class se extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return r(this),n}static assert(e){if(!(e instanceof se))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}se.create=s=>new se(s);const ct=(s,e)=>{let t;switch(s.code){case k.invalid_type:s.received===A.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case k.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,M.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:t=`Unrecognized key(s) in object: ${M.joinValues(s.keys,", ")}`;break;case k.invalid_union:t="Invalid input";break;case k.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${M.joinValues(s.options)}`;break;case k.invalid_enum_value:t=`Invalid enum value. Expected ${M.joinValues(s.options)}, received '${s.received}'`;break;case k.invalid_arguments:t="Invalid function arguments";break;case k.invalid_return_type:t="Invalid function return type";break;case k.invalid_date:t="Invalid date";break;case k.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:M.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case k.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case k.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case k.custom:t="Invalid input";break;case k.invalid_intersection_types:t="Intersection results could not be merged";break;case k.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case k.not_finite:t="Number must be finite";break;default:t=e.defaultError,M.assertNever(s)}return{message:t}};let nr=ct;function Hr(s){nr=s}function on(){return nr}const cn=s=>{const{data:e,path:t,errorMaps:n,issueData:r}=s,i=[...t,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}},Wr=[];function E(s,e){const t=on(),n=cn({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===ct?void 0:ct].filter(r=>!!r)});s.common.issues.push(n)}class H{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if(r.status==="aborted")return T;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const i=await r.key,a=await r.value;n.push({key:i,value:a})}return H.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return T;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const T=Object.freeze({status:"aborted"}),st=s=>({status:"dirty",value:s}),J=s=>({status:"valid",value:s}),qn=s=>s.status==="aborted",Jn=s=>s.status==="dirty",We=s=>s.status==="valid",Pt=s=>typeof Promise<"u"&&s instanceof Promise;function ln(s,e,t,n){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function sr(s,e,t,n,r){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,t),t}var R;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(R||(R={}));var Ct,Ot;class be{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Es=(s,e)=>{if(We(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new se(s.common.issues);return this._error=t,this._error}}};function j(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:r}=s;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{var c,u;const{message:f}=s;return a.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=f??t)!==null&&u!==void 0?u:o.defaultError}},description:r}}class N{get description(){return this._def.description}_getType(e){return _e(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:_e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new H,ctx:{common:e.parent.common,data:e.data,parsedType:_e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Pt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Es(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return We(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((n=(t=i==null?void 0:i.message)===null||t===void 0?void 0:t.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>We(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Pt(r)?r:Promise.resolve(r));return Es(n,i)}refine(e,t){const n=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:k.custom,...n(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t=="function"?t(n,r):t),!1))}_refinement(e){return new de({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return me.create(this,this._def)}nullable(){return Me.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ue.create(this)}promise(){return ut.create(this,this._def)}or(e){return Nt.create([this,e],this._def)}and(e){return $t.create(this,e,this._def)}transform(e){return new de({...j(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ut({...j(this._def),innerType:this,defaultValue:t,typeName:I.ZodDefault})}brand(){return new rs({typeName:I.ZodBranded,type:this,...j(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Zt({...j(this._def),innerType:this,catchValue:t,typeName:I.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qt.create(this,e)}readonly(){return Bt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kr=/^c[^\s-]{8,}$/i,qr=/^[0-9a-z]+$/,Jr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gr=/^[a-z0-9_-]{21}$/i,Qr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ei=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ti="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rn;const ni=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,si=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ri=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ii=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ai=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ci=new RegExp(`^${rr}$`);function ir(s){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`),e}function li(s){return new RegExp(`^${ir(s)}$`)}function ar(s){let e=`${rr}T${ir(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ui(s,e){return!!((e==="v4"||!e)&&ni.test(s)||(e==="v6"||!e)&&ri.test(s))}function di(s,e){if(!Qr.test(s))return!1;try{const[t]=s.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function hi(s,e){return!!((e==="v4"||!e)&&si.test(s)||(e==="v6"||!e)&&ii.test(s))}class le extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==A.string){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.string,received:i.parsedType}),T}const n=new H;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),E(r,{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),E(r,{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?E(r,{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&E(r,{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ei.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"email",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Rn||(Rn=new RegExp(ti,"u")),Rn.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"emoji",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Yr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"uuid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Gr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"nanoid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Kr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"cuid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")qr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"cuid2",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Jr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"ulid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),E(r,{validation:"url",code:k.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"regex",code:k.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ar(i).test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ci.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?li(i).test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{code:k.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Xr.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"duration",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?ui(e.data,i.version)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"ip",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?di(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"jwt",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?hi(e.data,i.version)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"cidr",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ai.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"base64",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?oi.test(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{validation:"base64url",code:k.invalid_string,message:i.message}),n.dirty()):M.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(r=>e.test(r),{validation:t,code:k.invalid_string,...R.errToObj(n)})}_addCheck(e){return new le({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...R.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...R.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...R.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...R.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...R.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...R.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...R.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...R.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...R.errToObj(t)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new le({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new le({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new le({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}le.create=s=>{var e;return new le({checks:[],typeName:I.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...j(s)})};function fi(s,e){const t=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=t>n?t:n,i=parseInt(s.toFixed(r).replace(".","")),a=parseInt(e.toFixed(r).replace(".",""));return i%a/Math.pow(10,r)}class je extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==A.number){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.number,received:i.parsedType}),T}let n;const r=new H;for(const i of this._def.checks)i.kind==="int"?M.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{code:k.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?fi(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_finite,message:i.message}),r.dirty()):M.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,r){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(r)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&M.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}je.create=s=>new je({checks:[],typeName:I.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...j(s)});class Ne extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==A.bigint)return this._getInvalidInput(e);let n;const r=new H;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):M.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return E(t,{code:k.invalid_type,expected:A.bigint,received:t.parsedType}),T}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,r){return new Ne({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(r)}]})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ne.create=s=>{var e;return new Ne({checks:[],typeName:I.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...j(s)})};class Lt extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==A.boolean){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.boolean,received:n.parsedType}),T}return J(e.data)}}Lt.create=s=>new Lt({typeName:I.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...j(s)});class Ke extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==A.date){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.date,received:i.parsedType}),T}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_date}),T}const n=new H;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),E(r,{code:k.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),E(r,{code:k.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):M.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ke.create=s=>new Ke({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:I.ZodDate,...j(s)});class un extends N{_parse(e){if(this._getType(e)!==A.symbol){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.symbol,received:n.parsedType}),T}return J(e.data)}}un.create=s=>new un({typeName:I.ZodSymbol,...j(s)});class Dt extends N{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.undefined,received:n.parsedType}),T}return J(e.data)}}Dt.create=s=>new Dt({typeName:I.ZodUndefined,...j(s)});class jt extends N{_parse(e){if(this._getType(e)!==A.null){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.null,received:n.parsedType}),T}return J(e.data)}}jt.create=s=>new jt({typeName:I.ZodNull,...j(s)});class lt extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}}lt.create=s=>new lt({typeName:I.ZodAny,...j(s)});class He extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}}He.create=s=>new He({typeName:I.ZodUnknown,...j(s)});class Oe extends N{_parse(e){const t=this._getOrReturnCtx(e);return E(t,{code:k.invalid_type,expected:A.never,received:t.parsedType}),T}}Oe.create=s=>new Oe({typeName:I.ZodNever,...j(s)});class dn extends N{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.void,received:n.parsedType}),T}return J(e.data)}}dn.create=s=>new dn({typeName:I.ZodVoid,...j(s)});class ue extends N{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==A.array)return E(t,{code:k.invalid_type,expected:A.array,received:t.parsedType}),T;if(r.exactLength!==null){const a=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(a||o)&&(E(t,{code:a?k.too_big:k.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(E(t,{code:k.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(E(t,{code:k.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>r.type._parseAsync(new be(t,a,t.path,o)))).then(a=>H.mergeArray(n,a));const i=[...t.data].map((a,o)=>r.type._parseSync(new be(t,a,t.path,o)));return H.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new ue({...this._def,minLength:{value:e,message:R.toString(t)}})}max(e,t){return new ue({...this._def,maxLength:{value:e,message:R.toString(t)}})}length(e,t){return new ue({...this._def,exactLength:{value:e,message:R.toString(t)}})}nonempty(e){return this.min(1,e)}}ue.create=(s,e)=>new ue({type:s,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...j(e)});function nt(s){if(s instanceof F){const e={};for(const t in s.shape){const n=s.shape[t];e[t]=me.create(nt(n))}return new F({...s._def,shape:()=>e})}else return s instanceof ue?new ue({...s._def,type:nt(s.element)}):s instanceof me?me.create(nt(s.unwrap())):s instanceof Me?Me.create(nt(s.unwrap())):s instanceof ve?ve.create(s.items.map(e=>nt(e))):s}class F extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=M.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==A.object){const u=this._getOrReturnCtx(e);return E(u,{code:k.invalid_type,expected:A.object,received:u.parsedType}),T}const{status:n,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Oe&&this._def.unknownKeys==="strip"))for(const u in r.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const f=i[u],b=r.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new be(r,b,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Oe){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:r.data[f]}});else if(u==="strict")o.length>0&&(E(r,{code:k.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of o){const b=r.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new be(r,b,r.path,f)),alwaysSet:f in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const b=await f.key,v=await f.value;u.push({key:b,value:v,alwaysSet:f.alwaysSet})}return u}).then(u=>H.mergeObjectSync(n,u)):H.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new F({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var r,i,a,o;const c=(a=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,t,n).message)!==null&&a!==void 0?a:n.defaultError;return t.code==="unrecognized_keys"?{message:(o=R.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new F({...this._def,unknownKeys:"strip"})}passthrough(){return new F({...this._def,unknownKeys:"passthrough"})}extend(e){return new F({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new F({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new F({...this._def,catchall:e})}pick(e){const t={};return M.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new F({...this._def,shape:()=>t})}omit(e){const t={};return M.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new F({...this._def,shape:()=>t})}deepPartial(){return nt(this)}partial(e){const t={};return M.objectKeys(this.shape).forEach(n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new F({...this._def,shape:()=>t})}required(e){const t={};return M.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof me;)i=i._def.innerType;t[n]=i}}),new F({...this._def,shape:()=>t})}keyof(){return or(M.objectKeys(this.shape))}}F.create=(s,e)=>new F({shape:()=>s,unknownKeys:"strip",catchall:Oe.create(),typeName:I.ZodObject,...j(e)});F.strictCreate=(s,e)=>new F({shape:()=>s,unknownKeys:"strict",catchall:Oe.create(),typeName:I.ZodObject,...j(e)});F.lazycreate=(s,e)=>new F({shape:s,unknownKeys:"strip",catchall:Oe.create(),typeName:I.ZodObject,...j(e)});class Nt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new se(o.ctx.common.issues));return E(t,{code:k.invalid_union,unionErrors:a}),T}if(t.common.async)return Promise.all(n.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const c of n){const u={...t,common:{...t.common,issues:[]},parent:null},f=c._parseSync({data:t.data,path:t.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new se(c));return E(t,{code:k.invalid_union,unionErrors:o}),T}}get options(){return this._def.options}}Nt.create=(s,e)=>new Nt({options:s,typeName:I.ZodUnion,...j(e)});const xe=s=>s instanceof Vt?xe(s.schema):s instanceof de?xe(s.innerType()):s instanceof zt?[s.value]:s instanceof $e?s.options:s instanceof Ft?M.objectValues(s.enum):s instanceof Ut?xe(s._def.innerType):s instanceof Dt?[void 0]:s instanceof jt?[null]:s instanceof me?[void 0,...xe(s.unwrap())]:s instanceof Me?[null,...xe(s.unwrap())]:s instanceof rs||s instanceof Bt?xe(s.unwrap()):s instanceof Zt?xe(s._def.innerType):[];class xn extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.object)return E(t,{code:k.invalid_type,expected:A.object,received:t.parsedType}),T;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(E(t,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const a=xe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,i)}}return new xn({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...j(n)})}}function Yn(s,e){const t=_e(s),n=_e(e);if(s===e)return{valid:!0,data:s};if(t===A.object&&n===A.object){const r=M.objectKeys(e),i=M.objectKeys(s).filter(o=>r.indexOf(o)!==-1),a={...s,...e};for(const o of i){const c=Yn(s[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(t===A.array&&n===A.array){if(s.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<s.length;i++){const a=s[i],o=e[i],c=Yn(a,o);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===A.date&&n===A.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class $t extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(i,a)=>{if(qn(i)||qn(a))return T;const o=Yn(i.value,a.value);return o.valid?((Jn(i)||Jn(a))&&t.dirty(),{status:t.value,value:o.data}):(E(n,{code:k.invalid_intersection_types}),T)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}$t.create=(s,e,t)=>new $t({left:s,right:e,typeName:I.ZodIntersection,...j(t)});class ve extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.array)return E(n,{code:k.invalid_type,expected:A.array,received:n.parsedType}),T;if(n.data.length<this._def.items.length)return E(n,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&n.data.length>this._def.items.length&&(E(n,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new be(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>H.mergeArray(t,a)):H.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new ve({...this._def,rest:e})}}ve.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ve({items:s,typeName:I.ZodTuple,rest:null,...j(e)})};class Mt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.object)return E(n,{code:k.invalid_type,expected:A.object,received:n.parsedType}),T;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)r.push({key:i._parse(new be(n,o,n.path,o)),value:a._parse(new be(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?H.mergeObjectAsync(t,r):H.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof N?new Mt({keyType:e,valueType:t,typeName:I.ZodRecord,...j(n)}):new Mt({keyType:le.create(),valueType:e,typeName:I.ZodRecord,...j(t)})}}class hn extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.map)return E(n,{code:k.invalid_type,expected:A.map,received:n.parsedType}),T;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:r._parse(new be(n,o,n.path,[u,"key"])),value:i._parse(new be(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return T;(u.status==="dirty"||f.status==="dirty")&&t.dirty(),o.set(u.value,f.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return T;(u.status==="dirty"||f.status==="dirty")&&t.dirty(),o.set(u.value,f.value)}return{status:t.value,value:o}}}}hn.create=(s,e,t)=>new hn({valueType:e,keyType:s,typeName:I.ZodMap,...j(t)});class qe extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.set)return E(n,{code:k.invalid_type,expected:A.set,received:n.parsedType}),T;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(E(n,{code:k.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(E(n,{code:k.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const f of c){if(f.status==="aborted")return T;f.status==="dirty"&&t.dirty(),u.add(f.value)}return{status:t.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new be(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,t){return new qe({...this._def,minSize:{value:e,message:R.toString(t)}})}max(e,t){return new qe({...this._def,maxSize:{value:e,message:R.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}qe.create=(s,e)=>new qe({valueType:s,minSize:null,maxSize:null,typeName:I.ZodSet,...j(e)});class it extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.function)return E(t,{code:k.invalid_type,expected:A.function,received:t.parsedType}),T;function n(o,c){return cn({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,on(),ct].filter(u=>!!u),issueData:{code:k.invalid_arguments,argumentsError:c}})}function r(o,c){return cn({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,on(),ct].filter(u=>!!u),issueData:{code:k.invalid_return_type,returnTypeError:c}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ut){const o=this;return J(async function(...c){const u=new se([]),f=await o._def.args.parseAsync(c,i).catch(S=>{throw u.addIssue(n(c,S)),u}),b=await Reflect.apply(a,this,f);return await o._def.returns._def.type.parseAsync(b,i).catch(S=>{throw u.addIssue(r(b,S)),u})})}else{const o=this;return J(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new se([n(c,u.error)]);const f=Reflect.apply(a,this,u.data),b=o._def.returns.safeParse(f,i);if(!b.success)throw new se([r(f,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new it({...this._def,args:ve.create(e).rest(He.create())})}returns(e){return new it({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new it({args:e||ve.create([]).rest(He.create()),returns:t||He.create(),typeName:I.ZodFunction,...j(n)})}}class Vt extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Vt.create=(s,e)=>new Vt({getter:s,typeName:I.ZodLazy,...j(e)});class zt extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return E(t,{received:t.data,code:k.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}zt.create=(s,e)=>new zt({value:s,typeName:I.ZodLiteral,...j(e)});function or(s,e){return new $e({values:s,typeName:I.ZodEnum,...j(e)})}class $e extends N{constructor(){super(...arguments),Ct.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return E(t,{expected:M.joinValues(n),received:t.parsedType,code:k.invalid_type}),T}if(ln(this,Ct)||sr(this,Ct,new Set(this._def.values)),!ln(this,Ct).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return E(t,{received:t.data,code:k.invalid_enum_value,options:n}),T}return J(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return $e.create(e,{...this._def,...t})}exclude(e,t=this._def){return $e.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}Ct=new WeakMap;$e.create=or;class Ft extends N{constructor(){super(...arguments),Ot.set(this,void 0)}_parse(e){const t=M.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==A.string&&n.parsedType!==A.number){const r=M.objectValues(t);return E(n,{expected:M.joinValues(r),received:n.parsedType,code:k.invalid_type}),T}if(ln(this,Ot)||sr(this,Ot,new Set(M.getValidEnumValues(this._def.values))),!ln(this,Ot).has(e.data)){const r=M.objectValues(t);return E(n,{received:n.data,code:k.invalid_enum_value,options:r}),T}return J(e.data)}get enum(){return this._def.values}}Ot=new WeakMap;Ft.create=(s,e)=>new Ft({values:s,typeName:I.ZodNativeEnum,...j(e)});class ut extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.promise&&t.common.async===!1)return E(t,{code:k.invalid_type,expected:A.promise,received:t.parsedType}),T;const n=t.parsedType===A.promise?t.data:Promise.resolve(t.data);return J(n.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ut.create=(s,e)=>new ut({type:s,typeName:I.ZodPromise,...j(e)});class de extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{E(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return T;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?T:c.status==="dirty"||t.value==="dirty"?st(c.value):c});{if(t.value==="aborted")return T;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?T:o.status==="dirty"||t.value==="dirty"?st(o.value):o}}if(r.type==="refinement"){const a=o=>{const c=r.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(r.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!We(a))return a;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>We(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:t.value,value:o})):a);M.assertNever(r)}}de.create=(s,e,t)=>new de({schema:s,typeName:I.ZodEffects,effect:e,...j(t)});de.createWithPreprocess=(s,e,t)=>new de({schema:e,effect:{type:"preprocess",transform:s},typeName:I.ZodEffects,...j(t)});class me extends N{_parse(e){return this._getType(e)===A.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}me.create=(s,e)=>new me({innerType:s,typeName:I.ZodOptional,...j(e)});class Me extends N{_parse(e){return this._getType(e)===A.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Me.create=(s,e)=>new Me({innerType:s,typeName:I.ZodNullable,...j(e)});class Ut extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===A.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ut.create=(s,e)=>new Ut({innerType:s,typeName:I.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...j(e)});class Zt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Pt(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new se(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new se(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zt.create=(s,e)=>new Zt({innerType:s,typeName:I.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...j(e)});class fn extends N{_parse(e){if(this._getType(e)!==A.nan){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.nan,received:n.parsedType}),T}return{status:"valid",value:e.data}}}fn.create=s=>new fn({typeName:I.ZodNaN,...j(s)});const pi=Symbol("zod_brand");class rs extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class qt extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?T:i.status==="dirty"?(t.dirty(),st(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?T:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,t){return new qt({in:e,out:t,typeName:I.ZodPipeline})}}class Bt extends N{_parse(e){const t=this._def.innerType._parse(e),n=r=>(We(r)&&(r.value=Object.freeze(r.value)),r);return Pt(t)?t.then(r=>n(r)):n(t)}unwrap(){return this._def.innerType}}Bt.create=(s,e)=>new Bt({innerType:s,typeName:I.ZodReadonly,...j(e)});function As(s,e){const t=typeof s=="function"?s(e):typeof s=="string"?{message:s}:s;return typeof t=="string"?{message:t}:t}function cr(s,e={},t){return s?lt.create().superRefine((n,r)=>{var i,a;const o=s(n);if(o instanceof Promise)return o.then(c=>{var u,f;if(!c){const b=As(e,n),v=(f=(u=b.fatal)!==null&&u!==void 0?u:t)!==null&&f!==void 0?f:!0;r.addIssue({code:"custom",...b,fatal:v})}});if(!o){const c=As(e,n),u=(a=(i=c.fatal)!==null&&i!==void 0?i:t)!==null&&a!==void 0?a:!0;r.addIssue({code:"custom",...c,fatal:u})}}):lt.create()}const gi={object:F.lazycreate};var I;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(I||(I={}));const mi=(s,e={message:`Input not instance of ${s.name}`})=>cr(t=>t instanceof s,e),lr=le.create,ur=je.create,bi=fn.create,vi=Ne.create,dr=Lt.create,yi=Ke.create,wi=un.create,xi=Dt.create,_i=jt.create,Si=lt.create,ki=He.create,Ci=Oe.create,Oi=dn.create,Ei=ue.create,Ai=F.create,Ri=F.strictCreate,Ii=Nt.create,Ti=xn.create,Pi=$t.create,Li=ve.create,Di=Mt.create,ji=hn.create,Ni=qe.create,$i=it.create,Mi=Vt.create,Vi=zt.create,zi=$e.create,Fi=Ft.create,Ui=ut.create,Rs=de.create,Zi=me.create,Bi=Me.create,Hi=de.createWithPreprocess,Wi=qt.create,Ki=()=>lr().optional(),qi=()=>ur().optional(),Ji=()=>dr().optional(),Yi={string:s=>le.create({...s,coerce:!0}),number:s=>je.create({...s,coerce:!0}),boolean:s=>Lt.create({...s,coerce:!0}),bigint:s=>Ne.create({...s,coerce:!0}),date:s=>Ke.create({...s,coerce:!0})},Gi=T;var h=Object.freeze({__proto__:null,defaultErrorMap:ct,setErrorMap:Hr,getErrorMap:on,makeIssue:cn,EMPTY_PATH:Wr,addIssueToContext:E,ParseStatus:H,INVALID:T,DIRTY:st,OK:J,isAborted:qn,isDirty:Jn,isValid:We,isAsync:Pt,get util(){return M},get objectUtil(){return Kn},ZodParsedType:A,getParsedType:_e,ZodType:N,datetimeRegex:ar,ZodString:le,ZodNumber:je,ZodBigInt:Ne,ZodBoolean:Lt,ZodDate:Ke,ZodSymbol:un,ZodUndefined:Dt,ZodNull:jt,ZodAny:lt,ZodUnknown:He,ZodNever:Oe,ZodVoid:dn,ZodArray:ue,ZodObject:F,ZodUnion:Nt,ZodDiscriminatedUnion:xn,ZodIntersection:$t,ZodTuple:ve,ZodRecord:Mt,ZodMap:hn,ZodSet:qe,ZodFunction:it,ZodLazy:Vt,ZodLiteral:zt,ZodEnum:$e,ZodNativeEnum:Ft,ZodPromise:ut,ZodEffects:de,ZodTransformer:de,ZodOptional:me,ZodNullable:Me,ZodDefault:Ut,ZodCatch:Zt,ZodNaN:fn,BRAND:pi,ZodBranded:rs,ZodPipeline:qt,ZodReadonly:Bt,custom:cr,Schema:N,ZodSchema:N,late:gi,get ZodFirstPartyTypeKind(){return I},coerce:Yi,any:Si,array:Ei,bigint:vi,boolean:dr,date:yi,discriminatedUnion:Ti,effect:Rs,enum:zi,function:$i,instanceof:mi,intersection:Pi,lazy:Mi,literal:Vi,map:ji,nan:bi,nativeEnum:Fi,never:Ci,null:_i,nullable:Bi,number:ur,object:Ai,oboolean:Ji,onumber:qi,optional:Zi,ostring:Ki,pipeline:Wi,preprocess:Hi,promise:Ui,record:Di,set:Ni,strictObject:Ri,string:lr,symbol:wi,transformer:Rs,tuple:Li,undefined:xi,union:Ii,unknown:ki,void:Oi,NEVER:Gi,ZodIssueCode:k,quotelessJson:Br,ZodError:se});class ae{constructor(e){this.schema=e}getDefaultValue(){return this.schema.parse(void 0)}validate(e){return this.schema.safeParse(e).success}safeParse(e){return this.schema.safeParse(e)}safeParseWithDefaults(e){const t=this.safeParse(e),n=this.getDefaultValue();return t.success?Object.assign({},n,t.data):n}getPropDescription(e){return this.schema._def.innerType.shape[e].description}}const In="https://veepn.com/",Is="udid",Qi=["local","cookie","new"],Xi=h.object({type:h.enum(Qi),value:h.string()}),ea=h.object({width:h.number(),height:h.number()}),ta=h.object({installedAt:h.number().describe(L.persist),deviceScreen:ea.optional().describe(L.persist),criticalError:h.boolean().optional().describe(L.persist),udid:Xi.optional().describe(L.persist)}).default({installedAt:Date.now()}),na=new ae(ta);class is extends re{constructor(t){super();z(this,"glogalBootResolve");z(this,"appBooted");this.globalStateStorage=t,this.glogalBootResolve=()=>{},this.appBooted=new Promise(n=>{this.glogalBootResolve=n})}get udid(){return this.globalStateStorage.state.udid??{type:"new",value:""}}get criticalError(){return!!this.globalStateStorage.state.criticalError}get installedAt(){return this.globalStateStorage.state.installedAt??0}get deviceScreen(){return this.globalStateStorage.state.deviceScreen??{width:0,height:0}}async boot(){await this.globalStateStorage.sync(),this.globalStateStorage.state.installedAt||await this.setAppInstallationDate(Date.now());const t=await this.generateUdid();await this.setUdid(t),this.bootResolve(),await this.bootPromise}globalboot(){this.glogalBootResolve()}async setCriticalError(t){await this.globalStateStorage.setItems({criticalError:t})}async setDeviceScreenData(t){await this.globalStateStorage.setItems({deviceScreen:t})}async setAppInstallationDate(t){await this.globalStateStorage.setItems({installedAt:t})}async setUdid(t){await is.setCookiesUdid(t.value),await this.globalStateStorage.setItems({udid:t})}async generateUdid(){const{udid:t}=await this.globalStateStorage.getItems("udid");if(t!=null&&t.value)return{type:"local",value:t.value};const n=await U.cookies.get({url:In,name:"udid"});return n!=null&&n.value?{type:"cookie",value:n.value}:{type:"new",value:crypto.randomUUID()}}static async setCookiesUdid(t){const n=new URL(In),r=new Date;r.setFullYear(r.getFullYear()+1),await U.cookies.set({name:Is,value:t,url:n.href,domain:`.${n.hostname}`,expirationDate:r.getTime()/1e3})}async getCookiesUdid(){Promise.resolve(this).catch(()=>{});const t=new URL(In),n=await U.cookies.get({name:Is,url:t.href});return n==null?void 0:n.value}}const sa=new q("global-state",na,X),_n=new is(sa);function ra(s){return!!(typeof s=="object"&&s!==null&&"errors"in s&&Array.isArray(s.errors))}function ia(s){return typeof s=="object"&&s!==null&&"success"in s&&"data"in s}function aa(s){return typeof s=="object"&&s!==null&&"name"in s&&"message"in s&&"code"in s}class Ht{constructor(){z(this,"ABORT_FETCH_TIME",1e4)}async request(e){try{const t=new AbortController,n=e.timeout??this.ABORT_FETCH_TIME,r=setTimeout(()=>t.abort(),n),i=await fetch(e.url,{signal:t.signal,method:e.method,headers:{Accept:"application/json","Content-Type":"application/json",...e.headers??{}},...e.body?{body:JSON.stringify(e.body)}:{},...e.cache?{cache:e.cache}:{}});if(clearTimeout(r),!i.ok)throw i;const a=i.headers.get("content-type"),o=a!=null&&a.includes("application/json")?await i.json():await i.text();return ia(o)?o:{success:!0,data:o}}catch(t){if(t instanceof Response)try{const n=await t.json();return ra(n)?n:{success:!1,errors:[{name:"fetch",message:`Fetch error at ${e.url}. ${t.statusText}`,status:t.status,code:1}]}}catch{return{success:!1,errors:[{name:"fetch",message:`Fetch error at ${e.url}. ${t.statusText}`,status:t.status,code:2}]}}return aa(t)?{success:!1,errors:[{name:t.name,message:"Server take long time to response. Please, try again or contact us for assistance.",status:0,code:t.code}]}:{success:!1,errors:[{name:"custom",message:`Fetch error at ${e.url}`,status:0,code:4}]}}}static getStatusCodeMessage(e){var n,r,i,a;return(((n=e.errors[0])==null?void 0:n.status)||((r=e.errors[0])==null?void 0:r.message)||((i=e.errors[0])==null?void 0:i.name)||((a=e.errors[0])==null?void 0:a.code)||"unknown").toString()}}const Sn=new Ht,oa=["google-analytics","aws-kinesis","amplitude"],ca=h.object({types:h.array(h.enum(oa)),name:h.string(),data:h.record(h.string(),h.union([h.string(),h.number(),h.boolean()])).optional()});class Hc{constructor(e){z(this,"type");z(this,"available",!1);z(this,"bootResolve");z(this,"bootReject");z(this,"bootPromise");this.type=e,this.bootResolve=()=>{},this.bootReject=()=>{},this.bootPromise=new Promise((t,n)=>{this.bootResolve=()=>{this.available=!0,t()},this.bootReject=()=>{this.available=!1,n(new Error("boot error AnalyticsEntity"))}})}}const la=h.object({group:h.number(),slug:h.string()}),ua=h.object({collectAnalytics:h.boolean(),privacyAgreement:h.boolean()}),da=h.object({privacy:ua.nullable().describe(L.persist),experiment:la.optional().describe(L.persist),eventsBuffer:h.array(ca).optional().describe(L.session)}).default({privacy:null}),ha=new ae(da);class fa extends re{constructor(t){super();z(this,"services",new Map);z(this,"saveEventPromises",[]);this.analyticsStateStorage=t}get experiment(){return this.analyticsStateStorage.state.experiment??null}get needPrivacyAcceptance(){return!this.analyticsStateStorage.state.privacy}get canSendAnalytics(){const{privacy:t}=this.analyticsStateStorage.state;return!!(t!=null&&t.privacyAgreement)&&!!(t!=null&&t.collectAnalytics)}get eventsBuffer(){return this.analyticsStateStorage.state.eventsBuffer??[]}async boot(){await this.analyticsStateStorage.sync(),this.needPrivacyAcceptance&&await this.setPrivacy({collectAnalytics:!0,privacyAgreement:!0}),this.bootResolve(),await this.bootPromise}use(t){this.services.has(t.type)||this.services.set(t.type,t)}sendEvent(t){if(this.needPrivacyAcceptance){this.saveEventPromises.push(this.saveEventToBuffer(t));return}this.canSendAnalytics&&t.types.forEach(n=>{const r=this.services.get(n);r==null||r.send(t).catch(()=>{})})}async setExperiment(t){await this.analyticsStateStorage.setItems({experiment:t})}async removeExperiment(){await this.analyticsStateStorage.removeItems("experiment")}async setPrivacy(t){await this.analyticsStateStorage.setItems({privacy:t}),this.canSendAnalytics&&this.sendBufferedEvents(),await this.clearEventsBuffer()}async saveEventToBuffer(t){await Promise.all([...this.saveEventPromises]),await this.analyticsStateStorage.setItems({eventsBuffer:[...this.eventsBuffer,t]})}sendBufferedEvents(){[...this.eventsBuffer].forEach(n=>{this.sendEvent(n)})}async clearEventsBuffer(){await this.analyticsStateStorage.setItems({eventsBuffer:[]}),this.saveEventPromises.length=0}}const pa=new q("analytics",ha,X),kn=new fa(pa);var pn=(s=>(s[s.not_active=0]="not_active",s[s.control=1]="control",s[s.test=2]="test",s[s.test_g3=3]="test_g3",s[s.test_g4=4]="test_g4",s))(pn||{}),It=(s=>(s[s.not_active=0]="not_active",s[s.active=1]="active",s[s.complited=2]="complited",s))(It||{}),K=(s=>(s.limitLocations="abtest_limit_locations",s.guardAlert="abtest_guardio_popups",s.lockScreen="abtest_lock_screen",s.discount60off="abtest_60off_discount",s.promoBannerClose="abtest_promo_banner_close",s.onboardingWithPlans="abtest_onboarding_with_plans",s))(K||{});const ga=h.object({group:h.nativeEnum(pn),experiment_slug:h.nativeEnum(K),status:h.nativeEnum(It)}),ma=h.object({experiments:h.array(ga),updatedAt:h.number()}),ba=h.object({config:ma.optional().describe(L.persist),ongoingExperiments:h.array(h.nativeEnum(K)).optional().describe(L.persist)}).default({}),va=new ae(ba),ya="https://split-tool.com/api/application-experiment/bulk-group/",wa="e9efc93ef559ff3064712c2a3399aff66eb8",Tn="https://veepn.com/",Pn="https://fake-veepn.com/",Xe="veepn-ab-tests",xa=24*60*60*1e3;class Ie extends re{constructor(e,t,n,r,i){super(),this.bundleSettings=e,this.testStorage=t,this.globalStateService=n,this.fetchService=r,this.analyticsService=i}async boot(){var e;if(await this.testStorage.sync(),(((e=this.testStorage.state.config)==null?void 0:e.updatedAt)??0)+xa<Date.now()){const r=Object.values(this.bundleSettings).map(a=>a.experimentSlug),i=await this.fetchExperimentsConfigs(r);i.length>0?(await this.setExperimentsConfigs(i),await this.updateActiveExperiment()):await this.clearExperimentsData()}this.bootResolve(),await this.bootPromise}getExperimentStatus(e){const{config:t,ongoingExperiments:n}=this.testStorage.state;if(!t||!n)return{active:!1};const r=t.experiments.find(({experiment_slug:i})=>i===e);return r?r.group>=pn.test&&r.status===It.active&&n.includes(e)?{active:!0,group:r.group}:r.group>=pn.test&&r.status===It.complited?{active:!0,group:r.group}:{active:!1}:{active:!1}}async initExperiments(e){const t=Object.values(this.bundleSettings).map(a=>a.experimentSlug),n=await Ie.getOngoingExperimentsCookie(),r=Object.values(this.bundleSettings).filter(a=>a.initReasons.includes(e)).map(a=>a.experimentSlug),i=[...new Set([...r,...n])].filter(a=>t.includes(a));await this.setOngoingExperiments(i),await this.updateActiveExperiment()}async updateActiveExperiment(){const{config:e,ongoingExperiments:t}=this.testStorage.state;if(!e||!t){await this.removeActiveExperiment();return}const n=e.experiments.find(r=>r.status===It.active);n&&t.includes(n.experiment_slug)?await this.setActiveExperiment(n):await this.removeActiveExperiment()}async clearExperimentsData(){await this.removeOngoingExperiments(),await this.removeActiveExperiment(),await this.removeExperimentsConfigs()}async fetchExperimentsConfigs(e){if(e.length===0)return[];const t={bundle_id:wa,udid:this.globalStateService.udid.value,experiment_name:e.join(", "),language:"en"},n=await this.fetchService.request({url:ya,method:"POST",body:t});return n.success?n.data:[]}async setExperimentsConfigs(e){await this.testStorage.setItems({config:{experiments:e,updatedAt:Date.now()}})}async removeExperimentsConfigs(){await this.testStorage.setItems({config:{experiments:[],updatedAt:Date.now()}})}async setActiveExperiment(e){await this.analyticsService.setExperiment({slug:e.experiment_slug,group:e.group});const t=await Ie.getActiveExperimentWebsiteCookie(e.experiment_slug);(t==null?void 0:t.group)===e.group&&(await Ie.setActiveExperimentWebsiteCookie([{slug:e.experiment_slug,group:e.group}]),this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:`${e.experiment_slug}_group_${e.group}`,data:{test_name:e.experiment_slug,user_group:e.group}}),this.analyticsService.sendEvent({types:["aws-kinesis"],name:"exp_group",data:{event_properties__exp_id:e.experiment_slug,event_properties__exp_var:e.group.toString()}}))}async removeActiveExperiment(){await this.analyticsService.removeExperiment(),await Ie.removeActiveExperimentWebsiteCookie()}async setOngoingExperiments(e){await this.testStorage.setItems({ongoingExperiments:e}),await Ie.setOngoingExperimentsCookie(e)}async removeOngoingExperiments(){await this.testStorage.setItems({ongoingExperiments:[]}),await Ie.removeOngoingExperimentsCookie()}static async getActiveExperimentWebsiteCookie(e){const t=new URL(Tn),n=await U.cookies.get({name:Xe,url:t.href});if(n)try{return JSON.parse(n.value).find(a=>a.slug===e)}catch{return}}static async setActiveExperimentWebsiteCookie(e){const t=new URL(Tn),n=new Date;n.setFullYear(n.getFullYear()+1),await U.cookies.set({name:Xe,value:JSON.stringify(e),url:t.href,domain:`.${t.hostname}`,expirationDate:n.getTime()/1e3})}static async removeActiveExperimentWebsiteCookie(){const e=new URL(Tn);await U.cookies.remove({name:Xe,url:e.href})}static async getOngoingExperimentsCookie(){const e=new URL(Pn),t=await U.cookies.get({name:Xe,url:e.href});if(!t)return[];try{const n=JSON.parse(t.value);return Array.isArray(n)&&n.every(r=>typeof r=="string")?n:[]}catch{return[]}}static async setOngoingExperimentsCookie(e){const t=new URL(Pn),n=new Date;n.setFullYear(n.getFullYear()+1),await U.cookies.set({name:Xe,value:JSON.stringify(e),url:t.href,domain:`.${t.hostname}`,expirationDate:n.getTime()/1e3})}static async removeOngoingExperimentsCookie(){const e=new URL(Pn);await U.cookies.remove({name:Xe,url:e.href})}}const _a=new q("test",va,X),Sa={[K.limitLocations]:{experimentSlug:K.limitLocations,initReasons:["install"]},[K.guardAlert]:{experimentSlug:K.guardAlert,initReasons:["install","update"]},[K.lockScreen]:{experimentSlug:K.lockScreen,initReasons:["install"]},[K.discount60off]:{experimentSlug:K.discount60off,initReasons:["install"]},[K.promoBannerClose]:{experimentSlug:K.promoBannerClose,initReasons:["install","update"]},[K.onboardingWithPlans]:{experimentSlug:K.onboardingWithPlans,initReasons:["install"]}},Wc=new Ie(Sa,_a,_n,Sn,kn);var hr=(s=>(s[s.regular=0]="regular",s[s.lifeTime=1]="lifeTime",s))(hr||{}),as=(s=>(s[s.prepaid=0]="prepaid",s[s.trial=1]="trial",s))(as||{}),Te=(s=>(s[s.disabled=0]="disabled",s[s.active=1]="active",s))(Te||{}),fr=(s=>(s[s.noSlots=0]="noSlots",s[s.hasSlots=1]="hasSlots",s))(fr||{}),gn=(s=>(s[s.missing=0]="missing",s[s.vpn=1]="vpn",s[s.slot=2]="slot",s[s.antivirus=3]="antivirus",s[s.bundle=4]="bundle",s))(gn||{}),Ue=(s=>(s[s.disabled=0]="disabled",s[s.active=1]="active",s))(Ue||{}),pr=(s=>(s[s.needConfirm=0]="needConfirm",s[s.confirmed=1]="confirmed",s))(pr||{});const ka=h.object({name:h.string(),infinity:h.nativeEnum(hr),trial:h.nativeEnum(as),status:h.nativeEnum(Te),slot:h.nativeEnum(fr),startTime:h.number(),endTime:h.number(),countdown:h.number(),today:h.number()}),Ca=h.object({id:h.number(),username:h.string(),email:h.string().email(),status:h.nativeEnum(Ue),confirm:h.nativeEnum(pr),registeredAt:h.number(),registeredCountryCode:h.string(),lastLoggedAt:h.number(),lastCountryCode:h.string(),confirmedEmailAt:h.number(),shareUrl:h.string().url()}),Oa=h.object({id:h.number(),user_id:h.number(),product_id:h.number(),name:h.string(),base_transaction_id:h.string(),status:h.number(),status_auto_renew:h.number(),last_order_type:h.number(),recurring_type:h.number(),type:h.number(),gateway:h.number(),start_time:h.number(),expiry_time:h.number(),infinity:h.number()}),Ea=h.object({id:h.number(),user_id:h.number(),product_id:h.number(),name:h.string(),base_transaction_id:h.string(),status:h.nativeEnum(Te),status_auto_renew:h.number(),last_order_type:h.number(),recurring_type:h.number(),type:h.nativeEnum(gn),gateway:h.number(),start_time:h.number(),expiry_time:h.number(),infinity:h.number()}),Aa=h.object({subscription:ka.optional().describe(L.persist),user:Ca.optional().describe(L.persist),slots:Oa.optional().describe(L.session),bundle:Ea.optional().describe(L.persist)}).default({}),Ra=new ae(Aa);class Ia extends re{constructor(e){super(),this.userStorage=e}get user(){return this.userStorage.state.user??null}get subscription(){return this.userStorage.state.subscription??null}get canUsePremium(){var n,r;const e=((n=this.userStorage.state.user)==null?void 0:n.status)===Ue.active,t=((r=this.userStorage.state.subscription)==null?void 0:r.status)===Te.active;return e&&t}get hasBundleSubscription(){var i,a,o,c,u;const e=((i=this.userStorage.state.user)==null?void 0:i.status)===Ue.active,t=((a=this.userStorage.state.subscription)==null?void 0:a.status)===Te.active,n=((o=this.userStorage.state.bundle)==null?void 0:o.status)===Te.active,r=((c=this.userStorage.state.bundle)==null?void 0:c.type)===gn.antivirus||((u=this.userStorage.state.bundle)==null?void 0:u.type)===gn.bundle;return e&&t&&n&&r}get userType(){var r,i,a;const e=((r=this.userStorage.state.user)==null?void 0:r.status)===Ue.active,t=((i=this.userStorage.state.subscription)==null?void 0:i.status)===Te.active,n=((a=this.userStorage.state.subscription)==null?void 0:a.trial)===as.trial;return e&&t&&n?"trial":e&&t?"premium":"free"}get subscriptionSlots(){return this.userStorage.state.slots??null}get subscriptionBundle(){return this.userStorage.state.bundle??null}async boot(){await this.userStorage.sync(),this.bootResolve(),await this.bootPromise}async setUser(e){await this.userStorage.setItems({user:e})}async removeUser(){await this.userStorage.removeItems("user")}async setSubscription(e){await this.userStorage.setItems({subscription:e})}async removeSubscription(){await this.userStorage.removeItems("subscription")}async setSubscriptionSlots(e){await this.userStorage.setItems({slots:e})}async removeSubscriptionSlots(){await this.userStorage.removeItems("slots")}async setSubscriptionBundle(e){await this.userStorage.setItems({bundle:e})}async removeSubscriptionBundle(){await this.userStorage.removeItems("bundle")}hasPermitions(e,t){const r={domain:{free:!0,premium:()=>{var a;return((a=this.userStorage.state.user)==null?void 0:a.status)===Ue.active}},locations:{free:!0,premium:()=>{var o,c;const i=((o=this.userStorage.state.user)==null?void 0:o.status)===Ue.active,a=((c=this.userStorage.state.subscription)==null?void 0:c.status)===Te.active;return i&&a}}}[e][t];return typeof r=="boolean"?r:r()}}const Ta=new q("user",Ra,X),Kc=new Ia(Ta),gr=["en","ru","vi","uk","pl","it","fr","nl","da","es","de","zh_CN","ar"],en="en",Pa=new Map([["en","English"],["ru","Русский"],["vi","Tiếng Việt"],["uk","Українська"],["pl","Polskie"],["it","Italiano"],["fr","Français"],["nl","Nederlands"],["da","Dansk"],["es","Español"],["de","Deutsche"],["zh_CN","繁體中文"],["ar","العربية"]]),La=h.object({locale:h.enum(gr).optional().describe(L.persist)}).default({}),Da=new ae(La);function Ts(s){return!!(s&&typeof s=="string"&&gr.includes(s))}const ja={"connect-status":{off:"أنت غير متصل",on:"أنت متصل بـ {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"فشل الاتصال، يرجى تعطيل الملحقات الأخرى.","not-controllable":"فشل الاتصال، ولا يمكن التحكم في وكيل المتصفح.","no-location":"خطأ في الاتصال، موقع الاتصال مفقود.","server-config":"خطأ في الاتصال، لا يمكن جلب تكوين الخادم.",captive:"فشل الاتصال، لا يمكن تأسيس اتصال الوكيل.","no-internet":"خطأ في الاتصال، لا يوجد اتصال بالشبكة."},"disconnect-errors":{"remove-proxy":"خطأ في قطع الاتصال، فشلت عملية إزالة قواعد الوكيل."},"download-notification":{title:"جرّب عميل VPN لسطح المكتب",message:"حماية اتصالك بالإنترنت بالكامل، وليس المتصفح فقط"},"update-notification":{title:"تم تحديث الإضافة",message:"مرحبا بك في {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"يتم التحكم في الإعداد بواسطة ملحق آخر.","not-controllable":"الإعداد لا يمكن التحكم فيه من خلال إعدادات المتصفح الخاص بك.","remove-webrtc":"لا يمكن مسح إعدادات WebRTC."}},Na=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),$a={"connect-status":{off:"Du er ikke forbundet",on:"Du er forbundet til {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Forbindelsen mislykkedes. Deaktiver venligst andre udvidelser.","not-controllable":"Forbindelsen mislykkedes, browserproxy kan ikke kontrolleres.","no-location":"Forbindelsesfejl, manglende forbindelsesplacering.","server-config":"Forbindelsesfejl, serverkonfigurationen kan ikke hentes.",captive:"Forbindelsen mislykkedes, kan ikke oprette proxyforbindelse.","no-internet":"Forbindelsesfejl, ingen netværksforbindelse."},"disconnect-errors":{"remove-proxy":"Afbrydelsesfejl, fjernelse af proxyregler mislykkedes."},"download-notification":{title:"Prøv vores VPN-klient til skrivebordet",message:"Beskyt hele din internetforbindelse, ikke kun browseren"},"update-notification":{title:"Udvidelse opdateret",message:"Velkommen til {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Indstilling kontrolleret af anden udvidelse.","not-controllable":"Indstillingen kan ikke kontrolleres via dine browserindstillinger.","remove-webrtc":"Kan ikke rydde WebRTC-indstillinger."}},Ma=Object.freeze(Object.defineProperty({__proto__:null,default:$a},Symbol.toStringTag,{value:"Module"})),Va={"connect-status":{off:"Sie sind nicht verbunden",on:"Sie sind mit {{tr_location}} verbunden"},"connect-errors":{"controlled-by-other-extensions":"Die Verbindung ist fehlgeschlagen. Bitte deaktivieren Sie andere Erweiterungen.","not-controllable":"Verbindung fehlgeschlagen, Browser-Proxy ist nicht steuerbar.","no-location":"Verbindungsfehler, Verbindungsstandort fehlt.","server-config":"Verbindungsfehler, Serverkonfiguration kann nicht abgerufen werden.",captive:"Verbindung fehlgeschlagen, Proxy-Verbindung kann nicht hergestellt werden.","no-internet":"Verbindungsfehler, keine Netzwerkverbindung."},"disconnect-errors":{"remove-proxy":"Fehler beim Trennen der Verbindung. Das Entfernen der Proxy-Regeln ist fehlgeschlagen."},"download-notification":{title:"Testen Sie unseren Desktop VPN Client",message:"Schützen Sie Ihre gesamte Internetverbindung, nicht nur den Browser"},"update-notification":{title:"Erweiterung aktualisiert",message:"Willkommen zu {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Einstellung wird von einer anderen Nebenstelle gesteuert.","not-controllable":"Die Einstellung kann nicht über Ihre Browsereinstellungen gesteuert werden.","remove-webrtc":"WebRTC-Einstellungen können nicht gelöscht werden."}},za=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"})),Fa={"connect-status":{off:"You are not connected",on:"You are connected to {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connection failed. Please disable other extensions.","not-controllable":"Connection failed. Browser proxy is not controllable.","no-location":"Connection Error. Missing connection location.","server-config":"Connection Error. Can't fetch server config.",captive:"Connection failed. Cannot establish proxy connection.","no-internet":"Connection Error. No Network connection."},"disconnect-errors":{"remove-proxy":"Disconnect Error. Proxy rules remove failed."},"download-notification":{title:"Try our Desktop VPN Client",message:"Protect your entire internet connection, not just browser"},"update-notification":{title:"Extension updated",message:"Welcome to {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Setting controlled by other extension.","not-controllable":"Setting not controllable through your browser settings.","remove-webrtc":"Can't clear WebRTC settings."}},Ua=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"})),Za={"connect-status":{off:"No está conectado",on:"Estás conectado a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La conexión falló. Desactive otras extensiones.","not-controllable":"La conexión falló, el proxy del navegador no es controlable.","no-location":"Error de conexión, falta ubicación de conexión.","server-config":"Error de conexión, no se puede recuperar la configuración del servidor.",captive:"La conexión falló, no se puede establecer la conexión proxy.","no-internet":"Error de conexión, sin conexión de red."},"disconnect-errors":{"remove-proxy":"Error de desconexión, error al eliminar las reglas de proxy."},"download-notification":{title:"Pruebe nuestro cliente VPN de escritorio",message:"Proteja toda su conexión a Internet, no sólo el navegador"},"update-notification":{title:"Extensión actualizada",message:"Bienvenido a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Configuración controlada por otra extensión.","not-controllable":"Configuración no controlable a través de la configuración de su navegador.","remove-webrtc":"No se puede borrar la configuración de WebRTC."}},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:Za},Symbol.toStringTag,{value:"Module"})),Ha={"connect-status":{off:"Vous n'êtes pas connecté",on:"Vous êtes connecté à {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La connexion a échoué. Veuillez désactiver les autres extensions.","not-controllable":"La connexion a échoué, le proxy du navigateur n'est pas contrôlable.","no-location":"Erreur de connexion, emplacement de connexion manquant.","server-config":"Erreur de connexion, impossible de récupérer la configuration du serveur.",captive:"Échec de la connexion, impossible d'établir une connexion proxy.","no-internet":"Erreur de connexion, pas de connexion réseau."},"disconnect-errors":{"remove-proxy":"Erreur de déconnexion. La suppression des règles de proxy a échoué."},"download-notification":{title:"Essayez notre client VPN de bureau",message:"Protégez l'ensemble de votre connexion Internet, et pas seulement votre navigateur"},"update-notification":{title:"Extension mise à jour",message:"Bienvenue à {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Paramètre contrôlé par une autre extension.","not-controllable":"Paramètre non contrôlable via les paramètres de votre navigateur.","remove-webrtc":"Impossible d'effacer les paramètres WebRTC."}},Wa=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"})),Ka={"connect-status":{off:"Non siete connessi",on:"Sei connesso a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connessione non riuscita. Disattiva le altre estensioni.","not-controllable":"Connessione non riuscita, il proxy del browser non è controllabile.","no-location":"Errore di connessione, posizione della connessione mancante.","server-config":"Errore di connessione, impossibile recuperare la configurazione del server.",captive:"Connessione non riuscita, impossibile stabilire una connessione proxy.","no-internet":"Errore di connessione, nessuna connessione di rete."},"disconnect-errors":{"remove-proxy":"Errore di disconnessione, rimozione delle regole proxy non riuscita."},"download-notification":{title:"Provate il nostro client VPN per desktop",message:"Proteggere l'intera connessione a Internet, non solo il browser"},"update-notification":{title:"Estensione aggiornata",message:"Benvenuto a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Impostazione controllata da un altro interno.","not-controllable":"Impostazione non controllabile tramite le impostazioni del browser.","remove-webrtc":"Impossibile cancellare le impostazioni WebRTC."}},qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"})),Ja={"connect-status":{off:"U bent niet verbonden",on:"Je bent verbonden met {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Verbinding mislukt. Schakel andere extensies uit.","not-controllable":"Verbinding mislukt, browserproxy kan niet worden beheerd.","no-location":"Verbindingsfout, ontbrekende verbindingslocatie.","server-config":"Verbindingsfout, kan serverconfiguratie niet ophalen.",captive:"Verbinding mislukt. Kan geen proxyverbinding tot stand brengen.","no-internet":"Verbindingsfout, geen netwerkverbinding."},"disconnect-errors":{"remove-proxy":"Verbindingsfout, verwijderen van proxyregels mislukt."},"download-notification":{title:"Probeer onze Desktop VPN-client",message:"Bescherm je hele internetverbinding, niet alleen je browser"},"update-notification":{title:"Extensie bijgewerkt",message:"Welkom bij {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Instelling beheerd door een ander toestel.","not-controllable":"Instelling kan niet worden beheerd via uw browserinstellingen.","remove-webrtc":"Kan WebRTC-instellingen niet wissen."}},Ya=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),Ga={"connect-status":{off:"Nie jesteś połączony",on:"Jesteś połączony z {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Połączenie nie powiodło się. Wyłącz inne rozszerzenia.","not-controllable":"Połączenie nie powiodło się, nie można kontrolować serwera proxy przeglądarki.","no-location":"Błąd połączenia, brak lokalizacji połączenia.","server-config":"Błąd połączenia. Nie można pobrać konfiguracji serwera.",captive:"Połączenie nie powiodło się. Nie można nawiązać połączenia proxy.","no-internet":"Błąd połączenia, brak połączenia sieciowego."},"disconnect-errors":{"remove-proxy":"Błąd rozłączenia, usunięcie reguł proxy nie powiodło się."},"download-notification":{title:"Wypróbuj naszego klienta VPN dla komputerów stacjonarnych",message:"Ochrona całego połączenia internetowego, nie tylko przeglądarki"},"update-notification":{title:"Rozszerzenie zaktualizowane",message:"Witamy w {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Ustawienie kontrolowane przez inne rozszerzenie.","not-controllable":"Ustawienie, którego nie można kontrolować za pomocą ustawień przeglądarki.","remove-webrtc":"Nie można wyczyścić ustawień WebRTC."}},Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Xa={"connect-status":{off:"Вы не подключены",on:"Вы подключены к {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Не удалось подключиться. Отключите другие расширения.","not-controllable":"Соединение не удалось, прокси-сервер браузера не контролируется.","no-location":"Ошибка подключения, отсутствует место подключения.","server-config":"Ошибка подключения. Невозможно получить конфигурацию сервера.",captive:"Не удалось установить соединение. Невозможно установить прокси-соединение.","no-internet":"Ошибка подключения. Нет подключения к сети."},"disconnect-errors":{"remove-proxy":"Ошибка отключения. Не удалось удалить правила прокси."},"download-notification":{title:"Попробуйте наш настольный VPN-клиент",message:"Защитите все свое интернет-соединение, а не только браузер"},"update-notification":{title:"Расширение обновлено",message:"Добро пожаловать в {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Настройка контролируется другим расширением.","not-controllable":"Настройка не контролируема через настройки вашего браузера.","remove-webrtc":"Не удалось очистить настройки WebRTC."}},eo=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),to={"connect-status":{off:"Ви не підключені",on:"Ви підключені до {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Помилка підключення. Вимкніть інші розширення.","not-controllable":"Помилка підключення, проксі-сервер веб-переглядача неможливо контролювати.","no-location":"Помилка підключення, відсутнє місце підключення.","server-config":"Помилка підключення, не вдається отримати конфігурацію сервера.",captive:"Помилка з’єднання, неможливо встановити проксі-з’єднання.","no-internet":"Помилка підключення. Відсутнє інтернет з'єднання."},"disconnect-errors":{"remove-proxy":"Помилка відключення, не вдалося видалити правила проксі."},"download-notification":{title:"Спробуйте наш VPN на ПК",message:"Повністю захистіть підключення до Інтернету, а не лише через браузер"},"update-notification":{title:"Розширення оновлено",message:"Ласкаво просимо до {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Налаштування контролюється іншим розширенням.","not-controllable":"Налаштування не контрольоване через налаштування вашого браузера.","remove-webrtc":"Не вдається очистити налаштування WebRTC."}},no=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),so={"connect-status":{off:"Bạn chưa được kết nối",on:"Bạn được kết nối với {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Kết nối không thành công, vui lòng tắt các tiện ích mở rộng khác.","not-controllable":"Kết nối không thành công, proxy trình duyệt không thể kiểm soát được.","no-location":"Lỗi kết nối, Thiếu vị trí kết nối.","server-config":"Lỗi kết nối, Không thể tìm nạp cấu hình máy chủ.",captive:"Kết nối không thành công, Không thể thiết lập kết nối proxy.","no-internet":"Lỗi kết nối, Không có kết nối mạng."},"disconnect-errors":{"remove-proxy":"Lỗi ngắt kết nối, xóa quy tắc proxy không thành công."},"download-notification":{title:"Hãy dùng thử Máy khách VPN máy tính để bàn của chúng tôi",message:"Bảo vệ toàn bộ kết nối internet của bạn, không chỉ trình duyệt"},"update-notification":{title:"Đã cập nhật tiện ích mở rộng",message:"Chào mừng bạn đến {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Cài đặt được kiểm soát bởi tiện ích mở rộng khác.","not-controllable":"Cài đặt không thể kiểm soát được thông qua cài đặt trình duyệt của bạn.","remove-webrtc":"Không thể xóa cài đặt WebRTC."}},ro=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),io={"connect-status":{off:"您尚未连接",on:"您已连接到 {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"连接失败，请禁用其他扩展。","not-controllable":"连接失败，浏览器代理不受控制。","no-location":"连接错误，缺少连接位置。","server-config":"连接错误，无法获取服务器配置。",captive:"连接失败，无法建立代理连接。","no-internet":"连接错误，无网络连接。"},"disconnect-errors":{"remove-proxy":"断开连接错误，代理规则删除失败。"},"download-notification":{title:"试试我们的桌面VPN客户端",message:"保护您的整个互联网连接，而不仅仅是浏览器"},"update-notification":{title:"扩展已更新",message:"欢迎来到 {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"由其他分机控制的设置。","not-controllable":"无法通过浏览器设置控制设置。","remove-webrtc":"无法清除 WebRTC 设置。"}},ao=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"}));class mn extends re{constructor(t){super();z(this,"translator",W);this.i18nStorage=t}get activeLocale(){return this.i18nStorage.state.locale??en}get languageList(){return[...Pa.entries()].map(([t,n])=>({code:t,label:n}))}async boot(){if(await this.i18nStorage.sync(),!this.i18nStorage.state.locale){const n=mn.getUILanguage();await this.setLocale(n)}const t=mn.buildResources();await this.translator.init({resources:t,lng:this.activeLocale,fallbackLng:en,interpolation:{escapeValue:!1}}),this.bootResolve(),await this.bootPromise}t(t,n={}){return this.translator.t(t,n)}async setLocale(t){await this.i18nStorage.setItems({locale:t})}static getUILanguage(){const t=U.i18n.getUILanguage(),n=t.replaceAll("-","_");if(Ts(n))return n;const r=t.substring(0,2);return Ts(r)?r:en}static buildResources(){return Object.entries(Object.assign({"./locales/ar/base.json":Na,"./locales/da/base.json":Ma,"./locales/de/base.json":za,"./locales/en/base.json":Ua,"./locales/es/base.json":Ba,"./locales/fr/base.json":Wa,"./locales/it/base.json":qa,"./locales/nl/base.json":Ya,"./locales/pl/base.json":Qa,"./locales/ru/base.json":eo,"./locales/uk/base.json":no,"./locales/vi/base.json":ro,"./locales/zh_CN/base.json":ao})).reduce((n,[r,i])=>{const a=r.split("/").at(-2),o=r.split("/").at(-1).split(".").at(0);return n[a]={...n[a],[o]:i.default},n},{})}}const oo=new q("i18n",Da,X),co=new mn(oo),Ps="chrome",lo="app",uo="chrome_extension",Ln={pricing:"https://veepn.com/{lang_code}/vpn-pricing/extension/",pricingPayment:"https://order.veepn.com/{lang_code}/pricing/payment/extension/",pricingSecurity:"https://order.veepn.com/{lang_code}/pricing/subscription/security/",pricingDiscount:"https://order.veepn.com/{lang_code}/60off/pricing/extension/",home:"https://veepn.com/{lang_code}/",install:`https://veepn.com/{lang_code}/welcome/${Ps}/`,uninstall:`https://veepn.com/{lang_code}/uninstall/${Ps}/1/`,ipDetails:"https://veepn.com/{lang_code}/what-is-my-ip/",privacyPolicy:"https://veepn.com/{lang_code}/privacy-policy/",termsOfService:"https://veepn.com/{lang_code}/terms-of-service/",update:"https://veepn.com/{lang_code}/upgrade/",breachAlert:"https://veepn.com/{lang_code}/alert/",support:"https://help.veepn.com/hc/en-us/",supportTroubleshooting:"https://help.veepn.com/hc/en-us/categories/19479919000338-Troubleshooting",accountAuth:"https://account.veepn.com/{lang_code}/account-auth/",accountPasswordRecovery:"https://account.veepn.com/{lang_code}/password-recovery/"},ho=["de","ar","th","vi","en","es","fr","id","hi","it","jp","nl","no","pl","pt","ru","se","tr","zh","uk"],fo="en";class po extends re{constructor(e,t){super(),this.globalStateService=e,this.i18nService=t}get websiteLangCode(){const e=this.i18nService.activeLocale.split("_")[0];return ho.find(n=>n===e)??fo}async boot(){this.bootResolve(),await this.bootPromise}async proceedToWebsiteAccount(e){const t=this.constructUrl(Ln.accountAuth+e.authToken,e.route,e.params);await U.tabs.create({url:t})}async proceedToWebsitePage(e){const t=this.constructUrl(Ln[e.page],"",e.params);await U.tabs.create({url:t})}async setUninstallURL(){const e=this.constructUrl(Ln.uninstall,"");await U.runtime.setUninstallURL(e)}constructUrl(e,t,n){const r=new URLSearchParams({utm_source:uo,utm_medium:lo,platform:"extension",udid:this.globalStateService.udid.value,...n??{}}),i=this.websiteLangCode===en?e.replace("/{lang_code}",""):e.replace("{lang_code}",this.websiteLangCode);if(t)return`${i}/?route=${encodeURIComponent(`${t}?${r.toString()}`)}`;const a=new URL(i);return r.forEach((o,c)=>{a.searchParams.set(c,o)}),a.toString()}}const qc=new po(_n,co),mr="default",go=[mr,"light","dark"],br=14*24*60*60*1e3,mo=16*24*60*60*1e3,bo="app",vo="chrome_extension",yo={macos:"https://download.veepn.com/mac/VeePN.dmg",windows:"https://download.veepn.com/windows/VeePNInstaller.exe",linux:"https://veepn.com/vpn-apps/vpn-for-linux/",other:`https://order.veepn.com/pricing/extension/?utm_source=${vo}&utm_medium=${bo}&utm_campaign=download`},wo=7*24*60*60*1e3,xo="https://www.cloudflare.com/cdn-cgi/trace",_o=20*60*1e3,So=7*24*60*60*1e3,ko=4,Co="https://chromewebstore.google.com/detail/free-vpn-for-chrome-vpn-p/_runtime_id_/reviews",Oo=15*60*1e3,Eo=24*60*60*1e3,Ao=24*60*60*1e3,Ro=h.object({country:h.string(),region:h.string()}),Io=h.object({needShow:h.boolean(),nextTimestamp:h.number(),showCount:h.number()}),To=h.object({needShow:h.boolean()}),Po=h.object({needShow:h.boolean(),count:h.number(),nextTimestamp:h.number()}),Lo=h.object({close:Po,active:h.boolean(),nextTimestamp:h.number()}),Do=h.object({active:h.boolean()}),jo=h.object({active:h.boolean()}),No=h.object({active:h.boolean()}),$o=h.object({active:h.boolean(),nextTimestamp:h.number()}),Mo=h.object({active:h.boolean(),nextTimestamp:h.number()}),Vo=h.object({colorTheme:h.enum(go).describe(L.persist),showOnboarding:h.boolean().describe(L.persist),sessionCount:h.number().describe(L.persist),downloadNotificationTimestamp:h.number().describe(L.persist),geolocation:Ro.optional().describe(L.persist),blockAds:h.boolean().describe(L.persist),rateUs:Io.describe(L.persist),exitOffer:To.describe(L.persist),connectionSurvey:Lo.describe(L.persist),banner2Session:Do.describe(L.persist),banner3Connection:jo.describe(L.persist),banner15Connection:No.describe(L.persist),banner14Days:$o.describe(L.persist),banner16Days:Mo.describe(L.persist)}).default({colorTheme:mr,showOnboarding:!0,sessionCount:0,downloadNotificationTimestamp:0,blockAds:!1,rateUs:{needShow:!0,nextTimestamp:Date.now()+_o,showCount:1},exitOffer:{needShow:!0},connectionSurvey:{close:{needShow:!0,count:0,nextTimestamp:Date.now()},active:!0,nextTimestamp:Date.now()},banner2Session:{active:!0},banner3Connection:{active:!0},banner15Connection:{active:!0},banner14Days:{active:!1,nextTimestamp:Date.now()+br},banner16Days:{active:!0,nextTimestamp:Date.now()+mo}}),zo=new ae(Vo);var Fo="2.0.3",Gn=500,Ls="user-agent",dt="",Ds="?",bn="function",De="undefined",ht="object",Qn="string",Y="browser",Se="cpu",pe="device",ce="engine",ie="os",at="result",x="name",m="type",w="vendor",_="version",G="architecture",Wt="major",y="model",Et="console",D="mobile",V="tablet",B="smarttv",fe="wearable",Dn="xr",At="embedded",vt="inapp",os="brands",Ze="formFactors",cs="fullVersionList",ot="platform",ls="platformVersion",Cn="bitness",Ve="sec-ch-ua",Uo=Ve+"-full-version-list",Zo=Ve+"-arch",Bo=Ve+"-"+Cn,Ho=Ve+"-form-factors",Wo=Ve+"-"+D,Ko=Ve+"-"+y,vr=Ve+"-"+ot,qo=vr+"-version",yr=[os,cs,D,y,ot,ls,G,Ze,Cn],Gt="Amazon",et="Apple",js="ASUS",Ns="BlackBerry",Fe="Google",$s="Huawei",Ms="Lenovo",Vs="Honor",Qt="LG",jn="Microsoft",Nn="Motorola",$n="Nvidia",zs="OnePlus",Mn="OPPO",yt="Samsung",Fs="Sharp",wt="Sony",Vn="Xiaomi",zn="Zebra",Us="Chrome",Zs="Chromium",Re="Chromecast",Jo="Edge",xt="Firefox",_t="Opera",Fn="Facebook",Bs="Sogou",tt="Mobile ",St=" Browser",Xn="Windows",Yo=typeof window!==De,Q=Yo&&window.navigator?window.navigator:void 0,Pe=Q&&Q.userAgentData?Q.userAgentData:void 0,Go=function(s,e){var t={},n=e;if(!vn(e)){n={};for(var r in e)for(var i in e[r])n[i]=e[r][i].concat(n[i]?n[i]:[])}for(var a in s)t[a]=n[a]&&n[a].length%2===0?n[a].concat(s[a]):s[a];return t},On=function(s){for(var e={},t=0;t<s.length;t++)e[s[t].toUpperCase()]=s[t];return e},es=function(s,e){if(typeof s===ht&&s.length>0){for(var t in s)if(ke(s[t])==ke(e))return!0;return!1}return pt(s)?ke(e).indexOf(ke(s))!==-1:!1},vn=function(s,e){for(var t in s)return/^(browser|cpu|device|engine|os)$/.test(t)||(e?vn(s[t]):!1)},pt=function(s){return typeof s===Qn},Un=function(s){if(s){for(var e=[],t=ft(/\\?\"/g,s).split(","),n=0;n<t.length;n++)if(t[n].indexOf(";")>-1){var r=Kt(t[n]).split(";v=");e[n]={brand:r[0],version:r[1]}}else e[n]=Kt(t[n]);return e}},ke=function(s){return pt(s)?s.toLowerCase():s},Zn=function(s){return pt(s)?ft(/[^\d\.]/g,s).split(".")[0]:void 0},Ce=function(s){for(var e in s){var t=s[e];typeof t==ht&&t.length==2?this[t[0]]=t[1]:this[t]=void 0}return this},ft=function(s,e){return pt(e)?e.replace(s,dt):e},kt=function(s){return ft(/\\?\"/g,s)},Kt=function(s,e){if(pt(s))return s=ft(/^\s\s*/,s),typeof e===De?s:s.substring(0,Gn)},Bn=function(s,e){if(!(!s||!e))for(var t=0,n,r,i,a,o,c;t<e.length&&!o;){var u=e[t],f=e[t+1];for(n=r=0;n<u.length&&!o&&u[n];)if(o=u[n++].exec(s),o)for(i=0;i<f.length;i++)c=o[++r],a=f[i],typeof a===ht&&a.length>0?a.length===2?typeof a[1]==bn?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:a.length===3?typeof a[1]===bn&&!(a[1].exec&&a[1].test)?this[a[0]]=c?a[1].call(this,c,a[2]):void 0:this[a[0]]=c?c.replace(a[1],a[2]):void 0:a.length===4&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):void 0):this[a]=c||void 0;t+=2}},Le=function(s,e){for(var t in e)if(typeof e[t]===ht&&e[t].length>0){for(var n=0;n<e[t].length;n++)if(es(e[t][n],s))return t===Ds?void 0:t}else if(es(e[t],s))return t===Ds?void 0:t;return e.hasOwnProperty("*")?e["*"]:s},Hs={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ws={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ks={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[x,tt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[x,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[x,_],[/opios[\/ ]+([\w\.]+)/i],[_,[x,_t+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[_,[x,_t+" GX"]],[/\bopr\/([\w\.]+)/i],[_,[x,_t]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_,[x,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[_,[x,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[x,_],[/quark(?:pc)?\/([-\w\.]+)/i],[_,[x,"Quark"]],[/\bddg\/([\w\.]+)/i],[_,[x,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[x,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_,[x,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[x,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[x,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_,[x,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_,[x,"Smart "+Ms+St]],[/(avast|avg)\/([\w\.]+)/i],[[x,/(.+)/,"$1 Secure"+St],_],[/\bfocus\/([\w\.]+)/i],[_,[x,xt+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[x,_t+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[x,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[x,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[x,_t+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[x,"MIUI"+St]],[/fxios\/([\w\.-]+)/i],[_,[x,tt+xt]],[/\bqihoobrowser\/?([\w\.]*)/i],[_,[x,"360"]],[/\b(qq)\/([\w\.]+)/i],[[x,/(.+)/,"$1Browser"],_],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[x,/(.+)/,"$1"+St],_],[/samsungbrowser\/([\w\.]+)/i],[_,[x,yt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[_,[x,Bs+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[x,Bs+" Mobile"],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[x,_],[/(lbbrowser|rekonq)/i],[x],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[_,x],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[x,Fn],_,[m,vt]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[x,_,[m,vt]],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[x,"GSA"],[m,vt]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_,[x,"TikTok"],[m,vt]],[/\[(linkedin)app\]/i],[x,[m,vt]],[/(chromium)[\/ ]([-\w\.]+)/i],[x,_],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[x,Us+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[x,Us+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[x,"Android"+St]],[/chrome\/([\w\.]+) mobile/i],[_,[x,tt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[x,_],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[_,[x,tt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[x,tt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[_,x],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[x,[_,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[x,_],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[x,tt+xt],_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[x,"Netscape"],_],[/(wolvic|librewolf)\/([\w\.]+)/i],[x,_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[x,xt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[x,[_,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[x,[_,/[^\d\.]+./,dt]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[G,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[G,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[G,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[G,/ower/,dt,ke]],[/ sun4\w[;\)]/i],[[G,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[G,ke]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[w,yt],[m,V]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[y,[w,yt],[m,D]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[w,et],[m,D]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[w,et],[m,V]],[/(macintosh);/i],[y,[w,et]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[w,Fs],[m,D]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[y,[w,Vs],[m,V]],[/honor([-\w ]+)[;\)]/i],[y,[w,Vs],[m,D]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[y,[w,$s],[m,V]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[w,$s],[m,D]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[y,/_/g," "],[w,Vn],[m,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[y,/_/g," "],[w,Vn],[m,D]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[w,Mn],[m,D]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[y,[w,Le,{OnePlus:["304","403","203"],"*":Mn}],[m,V]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[y,[w,"BLU"],[m,D]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[w,"Vivo"],[m,D]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[w,"Realme"],[m,D]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[w,Nn],[m,D]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[w,Nn],[m,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[w,Qt],[m,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[w,Qt],[m,D]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[y,[w,Ms],[m,V]],[/(nokia) (t[12][01])/i],[w,y,[m,V]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[y,/_/g," "],[m,D],[w,"Nokia"]],[/(pixel (c|tablet))\b/i],[y,[w,Fe],[m,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[w,Fe],[m,D]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[w,wt],[m,D]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[w,wt],[m,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[w,zs],[m,D]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[w,Gt],[m,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[w,Gt],[m,D]],[/(playbook);[-\w\),; ]+(rim)/i],[y,w,[m,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[w,Ns],[m,D]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[w,js],[m,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[w,js],[m,D]],[/(nexus 9)/i],[y,[w,"HTC"],[m,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[y,/_/g," "],[m,D]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[y,[w,"TCL"],[m,V]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[y,[w,"TCL"],[m,D]],[/(itel) ((\w+))/i],[[w,ke],y,[m,Le,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[w,"Acer"],[m,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[w,"Meizu"],[m,D]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[w,"Ulefone"],[m,D]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[y,[w,"Energizer"],[m,D]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[y,[w,"Cat"],[m,D]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[y,[w,"Smartfren"],[m,D]],[/droid.+; (a(?:015|06[35]|142p?))/i],[y,[w,"Nothing"],[m,D]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[y,[w,"Archos"],[m,V]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[y,[w,"Archos"],[m,D]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[w,y,[m,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[w,y,[m,D]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[w,y,[m,V]],[/(surface duo)/i],[y,[w,jn],[m,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[w,"Fairphone"],[m,D]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[y,[w,$n],[m,V]],[/(sprint) (\w+)/i],[w,y,[m,D]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[w,jn],[m,D]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[w,zn],[m,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[w,zn],[m,D]],[/smart-tv.+(samsung)/i],[w,[m,B]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[w,yt],[m,B]],[/tcast.+(lg)e?. ([-\w]+)/i],[w,y,[m,B]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,Qt],[m,B]],[/(apple) ?tv/i],[w,[y,et+" TV"],[m,B]],[/crkey.*devicetype\/chromecast/i],[[y,Re+" Third Generation"],[w,Fe],[m,B]],[/crkey.*devicetype\/([^/]*)/i],[[y,/^/,"Chromecast "],[w,Fe],[m,B]],[/fuchsia.*crkey/i],[[y,Re+" Nest Hub"],[w,Fe],[m,B]],[/crkey/i],[[y,Re],[w,Fe],[m,B]],[/(portaltv)/i],[y,[w,Fn],[m,B]],[/droid.+aft(\w+)( bui|\))/i],[y,[w,Gt],[m,B]],[/(shield \w+ tv)/i],[y,[w,$n],[m,B]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[w,Fs],[m,B]],[/(bravia[\w ]+)( bui|\))/i],[y,[w,wt],[m,B]],[/(mi(tv|box)-?\w+) bui/i],[y,[w,Vn],[m,B]],[/Hbbtv.*(technisat) (.*);/i],[w,y,[m,B]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,Kt],[y,Kt],[m,B]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[y,[m,B]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,B]],[/(ouya)/i,/(nintendo) (\w+)/i],[w,y,[m,Et]],[/droid.+; (shield)( bui|\))/i],[y,[w,$n],[m,Et]],[/(playstation \w+)/i],[y,[w,wt],[m,Et]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[w,jn],[m,Et]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[y,[w,yt],[m,fe]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[w,y,[m,fe]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[y,[w,Mn],[m,fe]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[w,et],[m,fe]],[/(opwwe\d{3})/i],[y,[w,zs],[m,fe]],[/(moto 360)/i],[y,[w,Nn],[m,fe]],[/(smartwatch 3)/i],[y,[w,wt],[m,fe]],[/(g watch r)/i],[y,[w,Qt],[m,fe]],[/droid.+; (wt63?0{2,3})\)/i],[y,[w,zn],[m,fe]],[/droid.+; (glass) \d/i],[y,[w,Fe],[m,Dn]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,y,[m,Dn]],[/(quest( \d| pro)?s?).+vr/i],[y,[w,Fn],[m,Dn]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[m,At]],[/(aeobc)\b/i],[y,[w,Gt],[m,At]],[/(homepod).+mac os/i],[y,[w,et],[m,At]],[/windows iot/i],[[m,At]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[y,[m,Le,{mobile:"Mobile",xr:"VR","*":V}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,D]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[y,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[x,Jo+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[x,_],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[x,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[x,_],[/ladybird\//i],[[x,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,x]],os:[[/microsoft (windows) (vista|xp)/i],[x,_],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[x,[_,Le,Hs]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,Le,Hs],[x,Xn]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[x,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[x,"macOS"],[_,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[_,[x,Re+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[_,[x,Re+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[_,[x,Re+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[_,[x,Re+" Linux"]],[/crkey\/([\d\.]+)/i],[_,[x,Re]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_,x],[/(ubuntu) ([\w\.]+) like android/i],[[x,/(.+)/,"$1 Touch"],_],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[x,_],[/\(bb(10);/i],[_,[x,Ns]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[_,[x,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[x,xt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[x,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_,[x,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[x,"Chrome OS"],_],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[x,_],[/(sunos) ?([\w\.\d]*)/i],[[x,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[x,_]]},Xt=function(){var s={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Ce.call(s.init,[[Y,[x,_,Wt,m]],[Se,[G]],[pe,[m,y,w]],[ce,[x,_]],[ie,[x,_]]]),Ce.call(s.isIgnore,[[Y,[_,Wt]],[ce,[_]],[ie,[_]]]),Ce.call(s.isIgnoreRgx,[[Y,/ ?browser$/i],[ie,/ ?os$/i]]),Ce.call(s.toString,[[Y,[x,_]],[Se,[G]],[pe,[w,y]],[ce,[x,_]],[ie,[x,_]]]),s}(),Qo=function(s,e){var t=Xt.init[e],n=Xt.isIgnore[e]||0,r=Xt.isIgnoreRgx[e]||0,i=Xt.toString[e]||0;function a(){Ce.call(this,t)}return a.prototype.getItem=function(){return s},a.prototype.withClientHints=function(){return Pe?Pe.getHighEntropyValues(yr).then(function(o){return s.setCH(new wr(o,!1)).parseCH().get()}):s.parseCH().get()},a.prototype.withFeatureCheck=function(){return s.detectFeature().get()},e!=at&&(a.prototype.is=function(o){var c=!1;for(var u in this)if(this.hasOwnProperty(u)&&!es(n,u)&&ke(r?ft(r,this[u]):this[u])==ke(r?ft(r,o):o)){if(c=!0,o!=De)break}else if(o==De&&c){c=!c;break}return c},a.prototype.toString=function(){var o=dt;for(var c in i)typeof this[i[c]]!==De&&(o+=(o?" ":dt)+this[i[c]]);return o||De}),Pe||(a.prototype.then=function(o){var c=this,u=function(){for(var b in c)c.hasOwnProperty(b)&&(this[b]=c[b])};u.prototype={is:a.prototype.is,toString:a.prototype.toString};var f=new u;return o(f),f}),new a};function wr(s,e){if(s=s||{},Ce.call(this,yr),e)Ce.call(this,[[os,Un(s[Ve])],[cs,Un(s[Uo])],[D,/\?1/.test(s[Wo])],[y,kt(s[Ko])],[ot,kt(s[vr])],[ls,kt(s[qo])],[G,kt(s[Zo])],[Ze,Un(s[Ho])],[Cn,kt(s[Bo])]]);else for(var t in s)this.hasOwnProperty(t)&&typeof s[t]!==De&&(this[t]=s[t])}function qs(s,e,t,n){return this.get=function(r){return r?this.data.hasOwnProperty(r)?this.data[r]:void 0:this.data},this.set=function(r,i){return this.data[r]=i,this},this.setCH=function(r){return this.uaCH=r,this},this.detectFeature=function(){if(Q&&Q.userAgent==this.ua)switch(this.itemType){case Y:Q.brave&&typeof Q.brave.isBrave==bn&&this.set(x,"Brave");break;case pe:!this.get(m)&&Pe&&Pe[D]&&this.set(m,D),this.get(y)=="Macintosh"&&Q&&typeof Q.standalone!==De&&Q.maxTouchPoints&&Q.maxTouchPoints>2&&this.set(y,"iPad").set(m,V);break;case ie:!this.get(x)&&Pe&&Pe[ot]&&this.set(x,Pe[ot]);break;case at:var r=this.data,i=function(a){return r[a].getItem().detectFeature().get()};this.set(Y,i(Y)).set(Se,i(Se)).set(pe,i(pe)).set(ce,i(ce)).set(ie,i(ie))}return this},this.parseUA=function(){return this.itemType!=at&&Bn.call(this.data,this.ua,this.rgxMap),this.itemType==Y&&this.set(Wt,Zn(this.get(_))),this},this.parseCH=function(){var r=this.uaCH,i=this.rgxMap;switch(this.itemType){case Y:case ce:var a=r[cs]||r[os],o;if(a)for(var c in a){var u=a[c].brand||a[c],f=a[c].version;this.itemType==Y&&!/not.a.brand/i.test(u)&&(!o||/chrom/i.test(o)&&u!=Zs)&&(u=Le(u,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(x,u).set(_,f).set(Wt,Zn(f)),o=u),this.itemType==ce&&u==Zs&&this.set(_,f)}break;case Se:var b=r[G];b&&(b&&r[Cn]=="64"&&(b+="64"),Bn.call(this.data,b+";",i));break;case pe:if(r[D]&&this.set(m,D),r[y]&&(this.set(y,r[y]),!this.get(m)||!this.get(w))){var v={};Bn.call(v,"droid 9; "+r[y]+")",i),!this.get(m)&&v.type&&this.set(m,v.type),!this.get(w)&&v.vendor&&this.set(w,v.vendor)}if(r[Ze]){var S;if(typeof r[Ze]!="string")for(var l=0;!S&&l<r[Ze].length;)S=Le(r[Ze][l++],Ws);else S=Le(r[Ze],Ws);this.set(m,S)}break;case ie:var d=r[ot];if(d){var p=r[ls];d==Xn&&(p=parseInt(Zn(p),10)>=13?"11":"10"),this.set(x,d).set(_,p)}this.get(x)==Xn&&r[y]=="Xbox"&&this.set(x,"Xbox").set(_,void 0);break;case at:var g=this.data,C=function(O){return g[O].getItem().setCH(r).parseCH().get()};this.set(Y,C(Y)).set(Se,C(Se)).set(pe,C(pe)).set(ce,C(ce)).set(ie,C(ie))}return this},Ce.call(this,[["itemType",s],["ua",e],["uaCH",n],["rgxMap",t],["data",Qo(this,s)]]),this}function ye(s,e,t){if(typeof s===ht?(vn(s,!0)?(typeof e===ht&&(t=e),e=s):(t=s,e=void 0),s=void 0):typeof s===Qn&&!vn(e,!0)&&(t=e,e=void 0),t&&typeof t.append===bn){var n={};t.forEach(function(c,u){n[u]=c}),t=n}if(!(this instanceof ye))return new ye(s,e,t).getResult();var r=typeof s===Qn?s:t&&t[Ls]?t[Ls]:Q&&Q.userAgent?Q.userAgent:dt,i=new wr(t,!0),a=e?Go(Ks,e):Ks,o=function(c){return c==at?function(){return new qs(c,r,a,i).set("ua",r).set(Y,this.getBrowser()).set(Se,this.getCPU()).set(pe,this.getDevice()).set(ce,this.getEngine()).set(ie,this.getOS()).get()}:function(){return new qs(c,r,a[c],i).parseUA().get()}};return Ce.call(this,[["getBrowser",o(Y)],["getCPU",o(Se)],["getDevice",o(pe)],["getEngine",o(ce)],["getOS",o(ie)],["getResult",o(at)],["getUA",function(){return r}],["setUA",function(c){return pt(c)&&(r=c.length>Gn?Kt(c,Gn):c),this}]]).setUA(r),this}ye.VERSION=Fo;ye.BROWSER=On([x,_,Wt,m]);ye.CPU=On([G]);ye.DEVICE=On([y,w,m,Et,D,B,V,fe,At]);ye.ENGINE=ye.OS=On([x,_]);const Xo=ye(navigator.userAgent);class ec extends re{constructor(e,t,n){super(),this.appStorage=e,this.fetchService=t,this.analyticsService=n}get colorTheme(){return this.appStorage.state.colorTheme}get version(){return U.runtime.getManifest().version}get showOnboarding(){return this.appStorage.state.showOnboarding}get sessionCount(){return this.appStorage.state.sessionCount}get downloadNotificationTimestamp(){return this.appStorage.state.downloadNotificationTimestamp}get geolocation(){return this.appStorage.state.geolocation??null}get isBlockAds(){return this.appStorage.state.blockAds}get majorBrowserVersion(){const e=Number(Xo.browser.major);return Number.isNaN(e)?0:e}get rateUsData(){return this.appStorage.state.rateUs}get extensionStoreUrl(){const e=U.runtime.id;return Co.replace("_runtime_id_",e)}get needShowConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state,t=Date.now()>e.nextTimestamp;return e.active&&t}get connectionSurveyClose(){return this.appStorage.state.connectionSurvey.close}async boot(){await this.appStorage.sync(),this.appStorage.state.geolocation||await this.detectGeolocation(),this.bootResolve(),await this.bootPromise}async setColorTheme(e){await this.appStorage.setItems({colorTheme:e})}async setShowOnboarding(e){await this.appStorage.setItems({showOnboarding:e})}async incrementSessionCount(){const e=this.appStorage.state.sessionCount+1;await this.appStorage.setItems({sessionCount:e})}async getDownloadLink(e){return await Promise.resolve(this),yo[e]}async incrementDownloadNotificationTimestamp(){const e=Date.now()+wo;await this.appStorage.setItems({downloadNotificationTimestamp:e})}async detectGeolocation(){const e=await this.fetchService.request({method:"GET",url:xo});if(e.success)try{const t=e.data.trim().split(/\n/).map(i=>i.split("=")),n=Object.fromEntries(t),r={country:n.loc.toLocaleLowerCase(),region:n.colo.toLocaleLowerCase()};await this.appStorage.setItems({geolocation:r}),this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"setup_user_country",data:{user_country:r.country}})}catch{this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"country_check_failed_error"})}else this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"country_check_failed"})}async setBlockAds(e){await this.appStorage.setItems({blockAds:e})}async incrementRateUs(){const e={needShow:this.rateUsData.showCount<ko,nextTimestamp:Date.now()+So,showCount:this.rateUsData.showCount+1};await this.appStorage.setItems({rateUs:e})}async setExitOfferShown(){await this.appStorage.setItems({exitOffer:{needShow:!1}})}async incrementConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+Oo}})}async closeConnectionSurvey(){const{close:e}=this.appStorage.state.connectionSurvey,t=e.count+1,n=e.nextTimestamp<Date.now()&&t%2===0,r=n?Date.now()+Ao:e.nextTimestamp,i={needShow:n,count:t,nextTimestamp:r};await this.appStorage.setItems({connectionSurvey:{...this.appStorage.state.connectionSurvey,close:i}})}async delayConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+Eo}})}async disableConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,active:!1}})}get banner2Session(){const{banner2Session:e}=this.appStorage.state;return e}async disableBanner2Session(){await this.appStorage.setItems({banner2Session:{active:!1}})}get banner3Connection(){const{banner3Connection:e}=this.appStorage.state;return e}async disableBanner3Connection(){await this.appStorage.setItems({banner3Connection:{active:!1}})}get banner15Connection(){const{banner15Connection:e}=this.appStorage.state;return e}async disableBanner15Connection(){await this.appStorage.setItems({banner15Connection:{active:!1}})}get banner14Days(){const{banner14Days:e}=this.appStorage.state;return e}async activateBanner14Days(){await this.appStorage.setItems({banner14Days:{...this.banner14Days,active:!0}})}async disableBanner14Days(){await this.appStorage.setItems({banner14Days:{nextTimestamp:Date.now()+br,active:!1}})}get banner16Days(){const{banner16Days:e}=this.appStorage.state;return e}async disableBanner16Days(){await this.appStorage.setItems({banner16Days:{...this.banner16Days,active:!1}})}}const tc=new q("app",zo,X),Jc=new ec(tc,Sn,kn),nc=["allowed","denied"],sc="allowed",rc="/icons/128.png",ic=["download-app","extension-updated"],ac=h.object({id:h.string().uuid(),callback:h.enum(ic).optional()}),oc=h.object({permition:h.enum(nc).optional().describe(L.persist),callbacks:h.array(ac).optional().describe(L.session)}).default({}),cc=new ae(oc);class lc extends re{constructor(e){super(),this.notificationStorage=e}get permition(){return this.notificationStorage.state.permition??sc}get callbacks(){return this.notificationStorage.state.callbacks??[]}async boot(){await this.notificationStorage.sync(),this.bootResolve(),await this.bootPromise}async setNotificationPermition(e){await this.notificationStorage.setItems({permition:e})}getCallbackSettings(e){return this.callbacks.find(n=>n.id===e)??null}async removeCallbackSettings(e){const n=((await this.notificationStorage.getItems("callbacks")).callbacks??[]).filter(r=>r.id!==e);await this.notificationStorage.setItems({callbacks:n})}async notify(e){if(this.notificationStorage.state.permition==="denied")return;const t=U.runtime.getManifest(),n=U.runtime.getURL(rc),r={type:"basic",title:t.name,message:t.description??"",iconUrl:n},i=await U.notifications.create(crypto.randomUUID(),{...r,...e.options}),a=[...this.callbacks,{id:i,...e.callback?{callback:e.callback}:{}}];await this.notificationStorage.setItems({callbacks:a})}}const uc=new q("notification",cc,X),Yc=new lc(uc),ts=["free","premium"],dc=["available","unavailable"],hc=h.object({accessToken:h.string(),refreshToken:h.string()}),Js=h.object({type:h.enum(ts),url:h.string(),status:h.enum(dc),updatedAt:h.number()}),fc=h.object({tokens:hc.optional().describe(L.persist),[ts[0]]:Js.optional().describe(L.persist),[ts[1]]:Js.optional().describe(L.persist)}).default({}),pc=new ae(fc),yn={authRefreshToken:"/auth/refresh-token/",authLogin:"/auth/login/",authLogout:"/auth/logout/",apiLaunch:"/api/launch/",apiLocationList:"/api/location/list/",apiServerList:"/api/server/list/",apiAvailable:"/api/available/",apiAccountAuthToken:"/api/account/account-auth-token/",apiUrlReview:"/api/url/review/",apiSubscriptionCheckUsedTrial:"/api/v2/subscription/check-used-trial/",apiSubscriptionSlot:"/api/v2/subscription/slot/",apiSlotRelease:"/api/v2/slot/release/",apiSubscriptionShield:"/api/v2/subscription/shield/"},gc="https://antpeak.com",mc="https://zorvian.com",Ys="https://s3-oregon-1.s3-us-west-2.amazonaws.com/api.json",bc=1*60*60*1e3,Gs=ye(navigator.userAgent);class En extends re{constructor(t,n,r,i,a,o){super();z(this,"domainType");z(this,"domainUrl");this.apiStorage=r,this.globalStateService=i,this.fetchService=a,this.analyticsService=o,this.domainType=t,this.domainUrl=n}get hasTokens(){return!!this.apiStorage.state.tokens}get deviceInfo(){const t="chrome",n=U.runtime.getManifest(),r=Gs.browser.name??"Chrome",i=Gs.browser.version??"0.0.0";return{udid:this.globalStateService.udid.value,appVersion:n.version,platform:t,platformVersion:navigator.userAgent,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,deviceName:`${r} ${i}`}}get isDomainAvailable(){const t=this.apiStorage.state[this.domainType];if(!t)return!1;const n=t.updatedAt+bc;return!!t.url&&t.status==="available"&&n>Date.now()}get apiDomainUrl(){const t=this.apiStorage.state[this.domainType];return(t==null?void 0:t.url)||this.domainUrl}async boot(){await this.apiStorage.sync(),this.isDomainAvailable||await this.updateDomainData(),this.bootResolve(),await this.bootPromise}async setTokens(t){await this.apiStorage.setItems({tokens:t})}async removeTokens(){await this.apiStorage.removeItems("tokens")}async updateDomainData(){if(await this.apiGetDomainStatus(this.domainUrl)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:this.domainUrl,status:"available",updatedAt:Date.now()}});return}const n=await this.apiGetReserveDomains();if(n.success){const r=En.shuffleArray(n.data.domains[this.domainType]);for(const i of r)if(await this.apiGetDomainStatus(i,!0)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:i,status:"available",updatedAt:0}});return}}await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:"",status:"unavailable",updatedAt:0}})}async fetch(t){var i;if(!this.isDomainAvailable)return{success:!1,errors:[{code:0,status:0,name:"",message:"Connection Error. Api domain is unavailable. Try to reset app."}]};const n=((i=this.apiStorage.state[this.domainType])==null?void 0:i.url)+yn[t.url];return await this.request({...t,url:n})}async apiGetReserveDomains(){const t=await this.fetchService.request({method:"GET",url:Ys});return t.success||this.analyticsService.sendEvent({types:["google-analytics"],name:"api_no_response_bucket",data:{api_domain:Ys,status_code:Ht.getStatusCodeMessage(t)}}),t}async apiGetDomainStatus(t,n=!1){const r=await this.fetchService.request({method:"GET",url:`${t}${yn.apiAvailable}`});return r.success||this.analyticsService.sendEvent({types:["google-analytics"],name:n?"api_no_response_reserve":"api_no_response_default",data:{api_domain:t,status_code:Ht.getStatusCodeMessage(r)}}),r.success?r.data.message==="OK":!1}static shuffleArray(t){const n=[...t];for(let r=n.length-1;r>=0;r--){const i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}}class vc extends En{constructor(e,t,n,r,i,a,o){super(e,t,n,r,i,o),this.apiStorage=n,this.globalStateService=r,this.fetchService=i,this.eventService=a,this.analyticsService=o}async request(e){var o,c;const t=((o=this.apiStorage.state.tokens)==null?void 0:o.accessToken)??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(u=>u.status!==401))return n;const i=((c=this.apiStorage.state.tokens)==null?void 0:c.accessToken)??"",a=await this.fetchService.request({headers:{Authorization:`Bearer ${i}`},method:"POST",url:this.apiDomainUrl+yn.apiLaunch,body:this.deviceInfo});return a.success?(await this.setTokens({accessToken:a.data.accessToken,refreshToken:""}),this.request(e)):(this.eventService.dispatch({"free-refresh-token-failed":{disconnectReason:i?this.apiDomainUrl:"token_empty",failedReason:Ht.getStatusCodeMessage(a)}}),n)}}class yc extends En{constructor(e,t,n,r,i,a,o){super(e,t,n,r,i,o),this.apiStorage=n,this.globalStateService=r,this.fetchService=i,this.eventService=a,this.analyticsService=o}async request(e){var o,c;const t=((o=this.apiStorage.state.tokens)==null?void 0:o.accessToken)??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(u=>u.status!==401))return n;const i=((c=this.apiStorage.state.tokens)==null?void 0:c.refreshToken)??"",a=await this.fetchService.request({headers:{Authorization:`Bearer ${i}`},method:"POST",url:this.apiDomainUrl+yn.authRefreshToken,body:this.deviceInfo});return a.success?(await this.setTokens({accessToken:a.data.accessToken,refreshToken:a.data.refreshToken}),this.request(e)):(this.eventService.dispatch({"premium-refresh-token-failed":{disconnectReason:i?this.apiDomainUrl:"token_empty",failedReason:Ht.getStatusCodeMessage(a)}}),n)}}const xr=new q("api",pc,X),Gc=new vc("free",gc,xr,_n,Sn,X,kn),Qc=new yc("premium",mc,xr,_n,Sn,X,kn),wc=h.object({blockWebrtc:h.boolean().optional().describe(L.persist)}).default({}),xc=new ae(wc),Hn="disable_non_proxied_udp",rt=class rt extends re{constructor(t){super();z(this,"setting",U.privacy.network.webRTCIPHandlingPolicy);z(this,"details",{levelOfControl:"not_controllable",value:"default"});this.webrtcStorage=t,this.setting.onChange.addListener(n=>{this.details=n,rt.settingChangeResolver()})}get canControlWebrtc(){const{levelOfControl:t,value:n}=this.details;return t==="not_controllable"||t==="controlled_by_other_extensions"?{status:!1,cause:t}:t==="controllable_by_this_extension"&&n===Hn?{status:!1,cause:"controlled_by_other_extensions"}:{status:!0}}get isApplied(){const{levelOfControl:t,value:n}=this.details;return t==="controlled_by_this_extension"&&n===Hn}get needEnableWebrtc(){return!!this.webrtcStorage.state.blockWebrtc}async boot(){await this.webrtcStorage.sync(),this.details=await this.setting.get({}),this.bootResolve(),await this.bootPromise}async enable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const t=new Promise(n=>{rt.settingChangeResolver=n});return await this.setting.set({value:Hn,scope:"regular"}),await t,this.canControlWebrtc}async disable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const t=new Promise(n=>{rt.settingChangeResolver=n});return await this.setting.clear({}),await t,this.canControlWebrtc}async setBlockWebrtc(t){await this.webrtcStorage.setItems({blockWebrtc:t})}};z(rt,"settingChangeResolver",()=>{});let ns=rt;const _c=new q("webrtc-settings",xc,X),Xc=new ns(_c),Sc=["udp","tcp","ipsec","https","http","sws","wg"],kc=h.object({addresses:h.array(h.string()),protocol:h.enum(Sc),port:h.number()}),Cc=h.object({username:h.string(),password:h.string()}),Oc=h.object({credentials:Cc.optional().describe(L.persist),serverConfigList:h.array(kc).optional().describe(L.persist)}).default({}),Ec=new ae(Oc),Be=class Be extends re{constructor(t){super();z(this,"setting",U.proxy.settings);z(this,"details",{levelOfControl:"not_controllable",value:{mode:"system"}});this.proxyStorage=t,this.setting.onChange.addListener(n=>{this.details=n,Be.settingChangeResolver()})}get canControlProxy(){const{levelOfControl:t}=this.details;return t==="not_controllable"||t==="controlled_by_other_extensions"?{status:!1,cause:t}:{status:!0}}get isApplied(){const{levelOfControl:t}=this.details;return t==="controlled_by_this_extension"}async getAuthCredentials(){const{credentials:t}=await this.proxyStorage.getItems("credentials");return t??null}async getServerConfigList(){const{serverConfigList:t}=await this.proxyStorage.getItems("serverConfigList");return t??[]}async boot(){await this.proxyStorage.sync();const t=await this.setting.get({});this.details=t,this.bootResolve(),await this.bootPromise}async enable(t){if(this.isApplied)return this.canControlProxy;if(!this.canControlProxy.status)return this.canControlProxy;await this.proxyStorage.setItems({credentials:t.credentials,serverConfigList:t.serverConfig});const n=new Promise(i=>{Be.settingChangeResolver=i}),r=Be.createProxyConfig(t);return await this.setting.set({value:r,scope:"regular"}),await n,this.canControlProxy}async disable(){if(!this.isApplied)return!0;await this.proxyStorage.removeItems("credentials","serverConfigList");const t=new Promise(n=>{Be.settingChangeResolver=n});return await this.setting.clear({}),await t,!this.isApplied}static createProxyConfig(t){const n=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,r=t.serverConfig.flatMap(a=>{const o=a.protocol.toUpperCase();return a.addresses.map(c=>`${o} ${c}:${a.port}`)}).join("; ");return{mode:"pac_script",pacScript:{data:`
      function FindProxyForURL(url, host) {
        const areHostnamesEqual = (hostnameA, hostnameB) => {
          const wwwRegex = /^www\\./;
          const oldHostnameWithoutWww = hostnameA.replace(wwwRegex, '');
          const newHostnameWithoutWww = hostnameB.replace(wwwRegex, '');
          return oldHostnameWithoutWww === newHostnameWithoutWww;
        };

        if (isPlainHostName(host)) {
          return 'DIRECT';
        }

        const ipv4Regex = new RegExp(${n});
        const nonRoutableNets = ${JSON.stringify(t.nonRoutableNets)};
        if (ipv4Regex.test(host) && nonRoutableNets.some(([pattern, mask]) => isInNet(host, pattern, mask))) {
          return 'DIRECT';
        }

        const exclusions = ${JSON.stringify(t.exclusionList)};
        if (exclusions.some(el => (areHostnamesEqual(host, el) || shExpMatch(host, el)))) {
          return 'DIRECT';
        }

        return '${r}';
      }`}}}};z(Be,"settingChangeResolver",()=>{});let ss=Be;const Ac=new q("proxy",Ec,X),el=new ss(Ac),Rc=h.object({matchPattern:h.string(),favicon:h.string().optional()}),Ic=h.object({exclusions:Rc.array().optional().describe(L.persist)}).default({}),Tc=new ae(Ic);var tn={exports:{}},Pc=tn.exports,Qs;function Lc(){return Qs||(Qs=1,function(s){(function(e){const t="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`,"i"),threeOctet:new RegExp(`^${t}\\.${t}\\.${t}$`,"i"),twoOctet:new RegExp(`^${t}\\.${t}$`,"i"),longValue:new RegExp(`^${t}$`,"i")},r=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${t}\\.${t}\\.${t}\\.${t}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${t}\\.${t}\\.${t}\\.${t}(${a})?$`,"i")};function u(l,d){if(l.indexOf("::")!==l.lastIndexOf("::"))return null;let p=0,g=-1,C=(l.match(c.zoneIndex)||[])[0],O,$;for(C&&(C=C.substring(1),l=l.replace(/%.+$/,""));(g=l.indexOf(":",g+1))>=0;)p++;if(l.substr(0,2)==="::"&&p--,l.substr(-2,2)==="::"&&p--,p>d)return null;for($=d-p,O=":";$--;)O+="0:";return l=l.replace("::",O),l[0]===":"&&(l=l.slice(1)),l[l.length-1]===":"&&(l=l.slice(0,-1)),d=function(){const Ee=l.split(":"),Ae=[];for(let Z=0;Z<Ee.length;Z++)Ae.push(parseInt(Ee[Z],16));return Ae}(),{parts:d,zoneId:C}}function f(l,d,p,g){if(l.length!==d.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let C=0,O;for(;g>0;){if(O=p-g,O<0&&(O=0),l[C]>>O!==d[C]>>O)return!1;g-=p,C+=1}return!0}function b(l){if(i.test(l))return parseInt(l,16);if(l[0]==="0"&&!isNaN(parseInt(l[1],10))){if(r.test(l))return parseInt(l,8);throw new Error(`ipaddr: cannot parse ${l} as octal`)}return parseInt(l,10)}function v(l,d){for(;l.length<d;)l=`0${l}`;return l}const S={};S.IPv4=function(){function l(d){if(d.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let p,g;for(p=0;p<d.length;p++)if(g=d[p],!(0<=g&&g<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=d}return l.prototype.SpecialRanges={unspecified:[[new l([0,0,0,0]),8]],broadcast:[[new l([255,255,255,255]),32]],multicast:[[new l([224,0,0,0]),4]],linkLocal:[[new l([169,254,0,0]),16]],loopback:[[new l([127,0,0,0]),8]],carrierGradeNat:[[new l([100,64,0,0]),10]],private:[[new l([10,0,0,0]),8],[new l([172,16,0,0]),12],[new l([192,168,0,0]),16]],reserved:[[new l([192,0,0,0]),24],[new l([192,0,2,0]),24],[new l([192,88,99,0]),24],[new l([198,18,0,0]),15],[new l([198,51,100,0]),24],[new l([203,0,113,0]),24],[new l([240,0,0,0]),4]],as112:[[new l([192,175,48,0]),24],[new l([192,31,196,0]),24]],amt:[[new l([192,52,193,0]),24]]},l.prototype.kind=function(){return"ipv4"},l.prototype.match=function(d,p){let g;if(p===void 0&&(g=d,d=g[0],p=g[1]),d.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return f(this.octets,d.octets,8,p)},l.prototype.prefixLengthFromSubnetMask=function(){let d=0,p=!1;const g={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let C,O,$;for(C=3;C>=0;C-=1)if(O=this.octets[C],O in g){if($=g[O],p&&$!==0)return null;$!==8&&(p=!0),d+=$}else return null;return 32-d},l.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},l.prototype.toByteArray=function(){return this.octets.slice(0)},l.prototype.toIPv4MappedAddress=function(){return S.IPv6.parse(`::ffff:${this.toString()}`)},l.prototype.toNormalizedString=function(){return this.toString()},l.prototype.toString=function(){return this.octets.join(".")},l}(),S.IPv4.broadcastAddressFromCIDR=function(l){try{const d=this.parseCIDR(l),p=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[];let O=0;for(;O<4;)C.push(parseInt(p[O],10)|parseInt(g[O],10)^255),O++;return new this(C)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.isIPv4=function(l){return this.parser(l)!==null},S.IPv4.isValid=function(l){try{return new this(this.parser(l)),!0}catch{return!1}},S.IPv4.isValidCIDR=function(l){try{return this.parseCIDR(l),!0}catch{return!1}},S.IPv4.isValidFourPartDecimal=function(l){return!!(S.IPv4.isValid(l)&&l.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},S.IPv4.networkAddressFromCIDR=function(l){let d,p,g,C,O;try{for(d=this.parseCIDR(l),g=d[0].toByteArray(),O=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[],p=0;p<4;)C.push(parseInt(g[p],10)&parseInt(O[p],10)),p++;return new this(C)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.parse=function(l){const d=this.parser(l);if(d===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(d)},S.IPv4.parseCIDR=function(l){let d;if(d=l.match(/^(.+)\/(\d+)$/)){const p=parseInt(d[2]);if(p>=0&&p<=32){const g=[this.parse(d[1]),p];return Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},S.IPv4.parser=function(l){let d,p,g;if(d=l.match(n.fourOctet))return function(){const C=d.slice(1,6),O=[];for(let $=0;$<C.length;$++)p=C[$],O.push(b(p));return O}();if(d=l.match(n.longValue)){if(g=b(d[1]),g>4294967295||g<0)throw new Error("ipaddr: address outside defined range");return function(){const C=[];let O;for(O=0;O<=24;O+=8)C.push(g>>O&255);return C}().reverse()}else return(d=l.match(n.twoOctet))?function(){const C=d.slice(1,4),O=[];if(g=b(C[1]),g>16777215||g<0)throw new Error("ipaddr: address outside defined range");return O.push(b(C[0])),O.push(g>>16&255),O.push(g>>8&255),O.push(g&255),O}():(d=l.match(n.threeOctet))?function(){const C=d.slice(1,5),O=[];if(g=b(C[2]),g>65535||g<0)throw new Error("ipaddr: address outside defined range");return O.push(b(C[0])),O.push(b(C[1])),O.push(g>>8&255),O.push(g&255),O}():null},S.IPv4.subnetMaskFromPrefixLength=function(l){if(l=parseInt(l),l<0||l>32)throw new Error("ipaddr: invalid IPv4 prefix length");const d=[0,0,0,0];let p=0;const g=Math.floor(l/8);for(;p<g;)d[p]=255,p++;return g<4&&(d[g]=Math.pow(2,l%8)-1<<8-l%8),new this(d)},S.IPv6=function(){function l(d,p){let g,C;if(d.length===16)for(this.parts=[],g=0;g<=14;g+=2)this.parts.push(d[g]<<8|d[g+1]);else if(d.length===8)this.parts=d;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(g=0;g<this.parts.length;g++)if(C=this.parts[g],!(0<=C&&C<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");p&&(this.zoneId=p)}return l.prototype.SpecialRanges={unspecified:[new l([0,0,0,0,0,0,0,0]),128],linkLocal:[new l([65152,0,0,0,0,0,0,0]),10],multicast:[new l([65280,0,0,0,0,0,0,0]),8],loopback:[new l([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new l([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new l([0,0,0,0,0,65535,0,0]),96],discard:[new l([256,0,0,0,0,0,0,0]),64],rfc6145:[new l([0,0,0,0,65535,0,0,0]),96],rfc6052:[new l([100,65435,0,0,0,0,0,0]),96],"6to4":[new l([8194,0,0,0,0,0,0,0]),16],teredo:[new l([8193,0,0,0,0,0,0,0]),32],benchmarking:[new l([8193,2,0,0,0,0,0,0]),48],amt:[new l([8193,3,0,0,0,0,0,0]),32],as112v6:[[new l([8193,4,274,0,0,0,0,0]),48],[new l([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new l([8193,16,0,0,0,0,0,0]),28],orchid2:[new l([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new l([8193,48,0,0,0,0,0,0]),28],reserved:[[new l([8193,0,0,0,0,0,0,0]),23],[new l([8193,3512,0,0,0,0,0,0]),32]]},l.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},l.prototype.kind=function(){return"ipv6"},l.prototype.match=function(d,p){let g;if(p===void 0&&(g=d,d=g[0],p=g[1]),d.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return f(this.parts,d.parts,16,p)},l.prototype.prefixLengthFromSubnetMask=function(){let d=0,p=!1;const g={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let C,O;for(let $=7;$>=0;$-=1)if(C=this.parts[$],C in g){if(O=g[C],p&&O!==0)return null;O!==16&&(p=!0),d+=O}else return null;return 128-d},l.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},l.prototype.toByteArray=function(){let d;const p=[],g=this.parts;for(let C=0;C<g.length;C++)d=g[C],p.push(d>>8),p.push(d&255);return p},l.prototype.toFixedLengthString=function(){const d=(function(){const g=[];for(let C=0;C<this.parts.length;C++)g.push(v(this.parts[C].toString(16),4));return g}).call(this).join(":");let p="";return this.zoneId&&(p=`%${this.zoneId}`),d+p},l.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const d=this.parts.slice(-2),p=d[0],g=d[1];return new S.IPv4([p>>8,p&255,g>>8,g&255])},l.prototype.toNormalizedString=function(){const d=(function(){const g=[];for(let C=0;C<this.parts.length;C++)g.push(this.parts[C].toString(16));return g}).call(this).join(":");let p="";return this.zoneId&&(p=`%${this.zoneId}`),d+p},l.prototype.toRFC5952String=function(){const d=/((^|:)(0(:|$)){2,})/g,p=this.toNormalizedString();let g=0,C=-1,O;for(;O=d.exec(p);)O[0].length>C&&(g=O.index,C=O[0].length);return C<0?p:`${p.substring(0,g)}::${p.substring(g+C)}`},l.prototype.toString=function(){return this.toRFC5952String()},l}(),S.IPv6.broadcastAddressFromCIDR=function(l){try{const d=this.parseCIDR(l),p=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[];let O=0;for(;O<16;)C.push(parseInt(p[O],10)|parseInt(g[O],10)^255),O++;return new this(C)}catch(d){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${d})`)}},S.IPv6.isIPv6=function(l){return this.parser(l)!==null},S.IPv6.isValid=function(l){if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{const d=this.parser(l);return new this(d.parts,d.zoneId),!0}catch{return!1}},S.IPv6.isValidCIDR=function(l){if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{return this.parseCIDR(l),!0}catch{return!1}},S.IPv6.networkAddressFromCIDR=function(l){let d,p,g,C,O;try{for(d=this.parseCIDR(l),g=d[0].toByteArray(),O=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[],p=0;p<16;)C.push(parseInt(g[p],10)&parseInt(O[p],10)),p++;return new this(C)}catch($){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${$})`)}},S.IPv6.parse=function(l){const d=this.parser(l);if(d.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(d.parts,d.zoneId)},S.IPv6.parseCIDR=function(l){let d,p,g;if((p=l.match(/^(.+)\/(\d+)$/))&&(d=parseInt(p[2]),d>=0&&d<=128))return g=[this.parse(p[1]),d],Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},S.IPv6.parser=function(l){let d,p,g,C,O,$;if(g=l.match(c.deprecatedTransitional))return this.parser(`::ffff:${g[1]}`);if(c.native.test(l))return u(l,8);if((g=l.match(c.transitional))&&($=g[6]||"",d=g[1],g[1].endsWith("::")||(d=d.slice(0,-1)),d=u(d+$,6),d.parts)){for(O=[parseInt(g[2]),parseInt(g[3]),parseInt(g[4]),parseInt(g[5])],p=0;p<O.length;p++)if(C=O[p],!(0<=C&&C<=255))return null;return d.parts.push(O[0]<<8|O[1]),d.parts.push(O[2]<<8|O[3]),{parts:d.parts,zoneId:d.zoneId}}return null},S.IPv6.subnetMaskFromPrefixLength=function(l){if(l=parseInt(l),l<0||l>128)throw new Error("ipaddr: invalid IPv6 prefix length");const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let p=0;const g=Math.floor(l/8);for(;p<g;)d[p]=255,p++;return g<16&&(d[g]=Math.pow(2,l%8)-1<<8-l%8),new this(d)},S.fromByteArray=function(l){const d=l.length;if(d===4)return new S.IPv4(l);if(d===16)return new S.IPv6(l);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},S.isValid=function(l){return S.IPv6.isValid(l)||S.IPv4.isValid(l)},S.isValidCIDR=function(l){return S.IPv6.isValidCIDR(l)||S.IPv4.isValidCIDR(l)},S.parse=function(l){if(S.IPv6.isValid(l))return S.IPv6.parse(l);if(S.IPv4.isValid(l))return S.IPv4.parse(l);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},S.parseCIDR=function(l){try{return S.IPv6.parseCIDR(l)}catch{try{return S.IPv4.parseCIDR(l)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},S.process=function(l){const d=this.parse(l);return d.kind()==="ipv6"&&d.isIPv4MappedAddress()?d.toIPv4Address():d},S.subnetMatch=function(l,d,p){let g,C,O,$;p==null&&(p="unicast");for(C in d)if(Object.prototype.hasOwnProperty.call(d,C)){for(O=d[C],O[0]&&!(O[0]instanceof Array)&&(O=[O]),g=0;g<O.length;g++)if($=O[g],l.kind()===$[0].kind()&&l.match.apply(l,$))return C}return p},s.exports?s.exports=S:e.ipaddr=S})(Pc)}(tn)),tn.exports}var Dc=Lc();const Xs=kr(Dc);class jc extends re{constructor(t){super();z(this,"NON_ROUTABLE_IP_ADDRESS",["0.0.0.0/8","10.0.0.0/8","14.0.0.0/8","24.0.0.0/8","39.0.0.0/8","127.0.0.0/8","128.0.0.0/16","169.254.0.0/16","172.16.0.0/12","191.255.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","192.168.0.0/16","198.18.0.0/15","223.255.255.0/24","224.0.0.0/4","240.0.0.0/4"]);z(this,"DEFAULT_EXCLUSIONS",["::1","localhost","*.local","127.0.0.1","analytics.google.com","*.analytics.google.com","google-analytics.com","*.google-analytics.com"]);this.exclusionsStorage=t}get nonRoutableNets(){const t=n=>{const[r,i]=Xs.parseCIDR(n);return[r.toString(),Xs.IPv4.subnetMaskFromPrefixLength(i).toString()]};return this.NON_ROUTABLE_IP_ADDRESS.map(t)}get exclusionList(){const t=this.exclusionSites.map(n=>n.matchPattern);return[...this.DEFAULT_EXCLUSIONS,...t]}get nonRoutableList(){return[...this.NON_ROUTABLE_IP_ADDRESS]}get exclusionSites(){return this.exclusionsStorage.state.exclusions??[]}async boot(){await this.exclusionsStorage.sync(),this.bootResolve(),await this.bootPromise}async add(t){await this.exclusionsStorage.setItems({exclusions:[...this.exclusionSites,t]})}async remove(t){const n=this.exclusionSites.filter(r=>r.matchPattern!==t.matchPattern);await this.exclusionsStorage.setItems({exclusions:n})}}const Nc=new q("exclusions",Tc,X),tl=new jc(Nc),$c=["disconnected","connecting","connected","disconnecting"],Mc="disconnected",Vc=h.object({status:h.enum($c).optional().describe(L.persist),ipAddress:h.string().optional().describe(L.session),connectionCount:h.number().describe(L.persist),useAutoConnect:h.boolean().optional().describe(L.persist)}).default({connectionCount:0}),zc=new ae(Vc);class Fc extends re{constructor(e){super(),this.connectionStorage=e}get currentIp(){return this.connectionStorage.state.ipAddress}get status(){return this.connectionStorage.state.status??Mc}get isConnected(){return this.connectionStorage.state.status==="connected"}get connectionCount(){return this.connectionStorage.state.connectionCount}get useAutoConnect(){return!!this.connectionStorage.state.useAutoConnect}async boot(){await this.connectionStorage.sync(),this.bootResolve(),await this.bootPromise}async setIpAddress(e){await this.connectionStorage.setItems({ipAddress:e})}async removeIpAddress(){await this.connectionStorage.removeItems("ipAddress")}async setConnectionStatus(e){await this.connectionStorage.setItems({status:e})}async incrementConnectionCount(){const e=this.connectionStorage.state.connectionCount+1;await this.connectionStorage.setItems({connectionCount:e})}async setAutoConnect(e){await this.connectionStorage.setItems({useAutoConnect:e})}}const Uc=new q("connection",zc,X),nl=new Fc(Uc);export{Hc as A,en as D,K as E,Ht as F,L as S,ye as U,kn as a,qc as b,Jc as c,co as d,Gc as e,Qc as f,_n as g,tl as h,W as i,Wc as j,X as k,nl as l,ae as m,Yc as n,q as o,el as p,Sn as q,mr as r,Te as s,hr as t,Kc as u,sc as v,Xc as w,h as z};
