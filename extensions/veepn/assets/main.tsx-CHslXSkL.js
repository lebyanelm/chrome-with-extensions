import{r as m,j as n,c as v}from"./client-CyCKgMGM.js";import{b as h,i as j}from"./index-Cmg072g4.js";import"./webcomponents-bundle-CAO5xEtU.js";const g=new Map,y=new Map,x=async function(t){if(await Promise.resolve(),j(t)){const e=t.id?g.get(t.id):g.get(t.type);e&&e(t);const i=t.id?y.get(t.id):y.get(t.type);i&&i.forEach(s=>{s(t)})}};h.runtime.onMessage.addListener(x);const z=function(){h.runtime.onMessage.removeListener(x)};window.addEventListener("beforeunload",z);function _(){return async function(t,...e){return new Promise(i=>{const s=crypto.randomUUID();g.set(s,l=>{g.delete(s),i(l)});const d={type:t,id:s,data:e[0]??{}};h.runtime.sendMessage(d).catch(()=>{})})}}const f=_(),C=""+new URL("x-close-cross-DFy6If8L.svg",import.meta.url).href,M=""+new URL("logo-veepn-DbnXwVk8.svg",import.meta.url).href,a=_(),w=""+new URL("account-hijacked-BBvvqP8b.svg",import.meta.url).href,E=""+new URL("compromised-password-vxxeRtFM.svg",import.meta.url).href,L=""+new URL("data-leak-D-kVRZ4w.svg",import.meta.url).href,S=""+new URL("public-document-B_twLPLq.svg",import.meta.url).href;function D(){const[o,t]=m.useState(null),e=function(){t(null)},i={"protect-email":{title:"You donâ€™t monitor {{value}}",description:"Add this address to the monitoring service and receive instant alerts if personal data is compromised.",img:L,action:{text:"Receive breach alerts",onClick(){a("show-website-page",{page:"pricing",params:{guard_alert:"protect-email",utm_campaign:"popup_address"}}).catch(()=>{}),a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_address_cta_clicked"}).catch(()=>{}),e()},onClose(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_address_close_clicked"}).catch(()=>{}),e()},onShow(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_address_viewed"}).catch(()=>{})}}},"protect-password":{title:"Warning: password leak",description:"This password was exposed in a data breach. We recommend scanning your account for security risks.",img:E,action:{text:"Scan your data",onClick(){a("show-website-page",{page:"pricing",params:{guard_alert:"protect-password",utm_campaign:"popup_password"}}).catch(()=>{}),a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_password_cta_clicked"}).catch(()=>{}),e()},onClose(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_password_close_clicked"}).catch(()=>{}),e()},onShow(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_password_viewed"}).catch(()=>{})}}},"protect-google-docs-share":{title:"Document is shared publicly",description:"Anyone with the link has access. If you own the document, consider updating your sharing settings.",img:S,action:{text:"Check out Premium",onClick(){a("show-website-page",{page:"pricing",params:{guard_alert:"protect-google-docs-share",utm_campaign:"popup_document"}}).catch(()=>{}),a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_document_cta_clicked"}).catch(()=>{}),e()},onClose(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_document_close_clicked"}).catch(()=>{}),e()},onShow(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_document_viewed"}).catch(()=>{})}}},"protect-facebook":{title:"Your account is at risk",description:"Hackers can gain control of your account and use it to spread scams, targeting your contacts.",img:w,action:{text:"Secure your data",onClick(){a("show-website-page",{page:"pricing",params:{guard_alert:"protect-facebook",utm_campaign:"popup_hijack"}}).catch(()=>{}),a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_cta_clicked"}).catch(()=>{}),e()},onClose(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_close_clicked"}).catch(()=>{}),e()},onShow(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_viewed"}).catch(()=>{})}}},"protect-gmail":{title:"Your account is at risk",description:"Hackers can gain control of your account and use it to spread scams, targeting your contacts.",img:w,action:{text:"Secure your data",onClick(){a("show-website-page",{page:"pricing",params:{guard_alert:"protect-gmail",utm_campaign:"popup_hijack"}}).catch(()=>{}),a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_cta_clicked"}).catch(()=>{}),e()},onClose(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_close_clicked"}).catch(()=>{}),e()},onShow(){a("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_viewed"}).catch(()=>{})}}}},s=function(r,b){const u={value:b,slug:r.slug,timestamp:Math.round(Date.now()/1e3),domain:window.location.hostname,url:window.location.href,data:{}};f("send-guard-action",u).then(c=>{if(c.success){const p=i[c.data.modal];c.data.data.value&&(p.title=p.title.replace("{{value}}",c.data.data.value)),p?(t(p),p.action.onShow()):t(null)}}).catch(()=>{})},d=function(r){[...document.querySelectorAll(r.selector)].forEach(u=>{if(r.trigger.type==="attribute"){const c=u.getAttribute(r.trigger.value);if(c){const p=c.trim();s(r,p)}}else if(r.trigger.type==="listener")u.addEventListener(r.trigger.value,c=>{const p=c.target.value.trim();s(r,p)});else if(r.trigger.type==="content"){const c=u.outerHTML.trim();s(r,c)}})};return m.useEffect(()=>{f("get-guard-rules",{url:window.location.href}).then(l=>{l.success&&l.data.rules.forEach(d)}).catch(()=>{})},[]),{popupData:o,closePopup:e}}function R(){const{popupData:o}=D();return o?n.jsxs("div",{className:"guard-popup",children:[n.jsxs("div",{className:"guard-popup__header",children:[n.jsx("img",{src:M,alt:"veepn",width:"118",height:"32"}),n.jsx("button",{className:"guard-popup__close",type:"button",onClick:o.action.onClose,children:n.jsx("img",{src:C,alt:"close",width:"16",height:"16"})})]}),n.jsx("figure",{className:"guard-popup__img",children:n.jsx("img",{src:o.img,alt:"guard",width:"368",height:"142"})}),n.jsx("h3",{className:"guard-popup__title",children:o.title}),n.jsx("p",{className:"guard-popup__description",children:o.description}),n.jsx("div",{className:"guard-popup__actions",children:n.jsx("button",{className:"guard-popup__btn",type:"button",onClick:o.action.onClick,children:o.action.text})})]}):null}function A(){const[o,t]=m.useState(!1);return m.useEffect(()=>{const e=setTimeout(()=>{f("get-guard-enable-state").then(i=>{i.success&&t(i.data.status)}).catch(()=>{})},1e3);return()=>clearTimeout(e)},[]),o&&n.jsx(R,{})}const U="html{box-sizing:border-box;text-size-adjust:100%;word-break:normal;-moz-tab-size:4;tab-size:4}*,:before,:after{background-repeat:no-repeat;box-sizing:border-box}:before,:after{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0;color:inherit;border:0;border-top:1px solid}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit;color:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit],[role=button]{cursor:pointer}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}button:-moz-focusring,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{outline:1px dotted ButtonText}select{-webkit-appearance:none;-moz-appearance:none;appearance:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select::-ms-expand{display:none}select::-ms-value{color:currentcolor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}ul,ol{list-style-type:none}figure{margin:0}.guard-popup{font-family:FigtreeVF,sans-serif;position:fixed;z-index:2147483638;top:8px;left:24px;overflow:visible;color:#222e3a;background-color:#fff;max-width:416px;width:calc(100% - 48px);border-radius:16px;box-shadow:0 4px 20px #00000040;padding:24px}.guard-popup__header{display:flex;justify-content:space-between;align-items:center;column-gap:16px;margin-bottom:24px}.guard-popup__close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;opacity:.7}.guard-popup__img{line-height:0;margin-bottom:24px}.guard-popup__img img{width:100%;aspect-ratio:368/142;object-fit:cover;border-radius:12px;overflow:hidden}.guard-popup__title{font-size:24px;line-height:32px;margin-bottom:8px}.guard-popup__description{font-size:20px;line-height:28px;font-weight:500;color:#4a5764;margin-bottom:28px}.guard-popup__actions{display:flex;justify-content:flex-end;column-gap:16px}.guard-popup__btn{display:flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:5px;font-size:16px;line-height:24px;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(180deg,#5695fd,#1554ff)}",F='@font-face{font-family:FigtreeVF;src:url(${extensionUrl}fonts/FigtreeVF.woff2) format("woff2 supports variations"),url(${extensionUrl}fonts/FigtreeVF.woff2) format("woff2-variations");font-weight:100 1000;font-display:swap}';class V extends HTMLElement{constructor(){super()}connectedCallback(){const t=this.attachShadow({mode:"open"});v.createRoot(t).render(n.jsx(m.StrictMode,{children:n.jsx(A,{})}));const e=document.createElement("style");e.innerText=U,t.appendChild(e);const i=h.runtime.getURL(""),s=F.replaceAll("${extensionUrl}",i),d=document.createElement("style");d.innerText=s,this.appendChild(d)}}const k="veepn-guard-alert";customElements.define(k,V);document.body.append(document.createElement(k));
